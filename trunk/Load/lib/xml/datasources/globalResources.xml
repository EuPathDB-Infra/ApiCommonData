<resources>

  <resource resource="GO_RSRC" version="@@GO_VER@@"
      plugin="GUS::Supported::Plugin::InsertGeneOntology">
    <manualGet fileOrDir="global/ontology/geneOntology/%RESOURCE_VERSION%/gene_ontology.obo"/>
    <pluginArgs>--oboFile @@dataDir@@/gene_ontology.obo --extDbRlsName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --calcTransitiveClosure</pluginArgs>
  </resource>

  <resource resource="enzymeDB_RSRC" version="2011-02-08"
      plugin="GUS::Community::Plugin::LoadEnzymeDatabase">
    <wgetArgs url="ftp://ftp.expasy.org/databases/enzyme/">--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --include list  --accept=enzclass.txt,enzyme.dat</wgetArgs>
    <pluginArgs>--InPath @@dataDir@@ --enzymeDbName %RESOURCE_NAME% --enzymeDbRlsVer %RESOURCE_VERSION%</pluginArgs>
  </resource>

  <resource resource="PDBProteinSequences_RSRC" version="@@PDBProteinSequences_VER@@"
      plugin="GUS::Supported::Plugin::LoadFastaSequences">
    <wgetArgs url="ftp://ftp.wwpdb.org/pub/pdb/derived_data/pdb_seqres.txt.gz">--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --output-document=@@dataDir@@/pdb_seqres.txt.gz</wgetArgs>
    <unpack>gunzip @@dataDir@@/pdb_seqres.txt.gz</unpack>
    <unpack>filterPdbFile --inputFile @@dataDir@@/pdb_seqres.txt --outputFile  @@dataDir@@/pdb.fsa</unpack>
     <getAndUnpackOutput file="@@dataDir@@/pdb.fsa"/>   
    <pluginArgs>--externalDatabaseName %RESOURCE_NAME% --externalDatabaseVersion %RESOURCE_VERSION% --sequenceFile  @@dataDir@@/pdb.fsa --SOTermName 'polypeptide'  --noSequence --regexSourceId  '>(\w+)\s+mol:protein' --regexDesc 'length:\d+\s+(.+)$' --tableName "DoTS::ExternalAASequence"</pluginArgs>
  </resource>

  <resource resource="taxonomy_RSRC" version="@@taxonomy_VER@@"
      plugin="GUS::Supported::Plugin::LoadTaxon">
    <wgetArgs url="ftp://ftp.ncbi.nih.gov/pub/taxonomy/">--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=2 --include list --accept=gi_taxid_prot.dmp.gz,taxdump.tar.gz</wgetArgs>
    <unpack>gunzip @@dataDir@@/gi_taxid_prot.dmp.gz</unpack>
    <unpack>$currDir=`pwd`; cd @@dataDir@@ ; tar -xzf taxdump.tar.gz ; rm -f taxdump.tar ; cd $currDir</unpack>
    <pluginArgs>--names @@dataDir@@/names.dmp --nodes @@dataDir@@/nodes.dmp --gencode @@dataDir@@/gencode.dmp --merged @@dataDir@@/merged.dmp --verbose</pluginArgs>
  </resource>

  <resource resource="updatePDBTaxon_RSRC" version="2011-01-28"
      plugin="ApiCommonData::Load::Plugin::UpdateTaxonFieldFromFile">
    <wgetArgs url="ftp://ftp.wwpdb.org/pub/pdb/derived_data/index/source.idx">--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=4 --output-document=@@dataDir@@/source.idx</wgetArgs>
    <unpack>processSourceIdxFile --inFile @@dataDir@@/source.idx --outFile @@dataDir@@/source.idx.processed</unpack>
    <pluginArgs>--fileName @@dataDir@@/source.idx.processed --sourceIdRegex  '^(\w+)' --taxonNameRegex '^\w+\s+(.+)' --idSql 'select substr(lower(source_id),0,4),aa_sequence_id from dots.externalaasequence' --extDbRelSpec 'PDBProteinSequences_RSRC|@@PDBProteinSequences_VER@@'  --tableName 'DoTS::ExternalAASequence'</pluginArgs>
  </resource>

  <resource resource="SO_RSRC" version="@@SO_VER@@"
      plugin="GUS::Supported::Plugin::InsertSequenceOntologyOBO">
    <wgetArgs url="http://song.cvs.sourceforge.net/viewvc/song/ontology/so.obo">--tries=5 --output-document=@@dataDir@@/so.obo</wgetArgs>
    <pluginArgs>--inputFile @@dataDir@@/so.obo --soVersion @@SO_VER@@ --soCvsVersion @@SO_VER@@</pluginArgs>
  </resource>

  <resource resource="Mged_Ontology_Term_Types_RSRC" version="1.3"
      plugin="GUS::Supported::Plugin::InsertOntologyTermType">
    <manualGet fileOrDir="global/ontology/Mged/%RESOURCE_VERSION%/MgedOntologyTermTypes.tab"/>
    <pluginArgs>--inputFile @@dataDir@@/MgedOntologyTermTypes.tab</pluginArgs>
  </resource>

  <resource resource="Mged_Ontology_Relationship_Types_RSRC" version="1.3"
      plugin="GUS::Supported::Plugin::InsertOntologyRelationshipType">
    <manualGet fileOrDir="global/ontology/Mged/%RESOURCE_VERSION%/MgedOntologyRelationshipTypes.tab"/>
    <pluginArgs>--inputFile @@dataDir@@/MgedOntologyRelationshipTypes.tab</pluginArgs>
  </resource>

  <resource resource="MGED_Ontology_RSRC" version="1.3"
      plugin="GUS::Supported::Plugin::InsertOntologyTermsAndRelationships">
    <wgetArgs url="http://mged.sourceforge.net/ontologies/MGEDOntology.owl">--tries=5 --no-directories --no-host-directories --accept=@@dataDir@@/MGEDOntology.owl </wgetArgs>
    <pluginArgs>--inFile @@dataDir@@/MGEDOntology.owl --extDbName %RESOURCE_NAME% --extDbVersion %RESOURCE_VERSION% --uri 'http://mged.sourceforge.net/ontologies/MGEDontology.php' --parserType MgedRdfRow</pluginArgs>
  </resource>

  <resource resource="Mged_Ontology_Entry_RSRC" version="1.3"
      plugin="GUS::Community::Plugin::LoadOntologyEntryFromMO">
    <manualGet fileOrDir="global/empty"/>
    <pluginArgs>--externalDatabase MGED_Ontology_RSRC --externalDatabaseRls 1.3</pluginArgs>
  </resource>

  <resource resource="GO_evidence_codes_RSRC" version="1.21"
      plugin="ApiCommonData::Load::Plugin::InsertGOEvidenceCodesFromObo">
    <wgetArgs url="http://obo.cvs.sourceforge.net/*checkout*/obo/obo/ontology/evidence_code.obo">--tries=5 --output-document=@@dataDir@@/evidence_code.obo</wgetArgs>
    <pluginArgs>--oboFile @@dataDir@@/evidence_code.obo</pluginArgs>
  </resource>

  <resource resource="InterproscanData_RSRC" version="@@InterproscanData_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertInterproDomainDbs">
    <manualGet fileOrDir="global/domain/iprscanData/%RESOURCE_VERSION%/iprscan"/>
    <unpack>fixSuperfamily @@dataDir@@/iprscan/data/</unpack>
    <pluginArgs>--inPath @@dataDir@@/iprscan/data/</pluginArgs>
  </resource>

  <resource resource="NRDB_RSRC" version="@@NRDB_VER@@"
      plugin="ApiCommonData::Load::Plugin::LoadNothing">
    <wgetArgs url="ftp://ftp.ncbi.nih.gov/blast/db/FASTA/">--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --accept=nr.gz </wgetArgs>
    <unpack>gunzip @@dataDir@@/nr.gz </unpack>
    <unpack>shortenDefLine --inputFile @@dataDir@@/nr --outputFile @@dataDir@@/nrdb-short-defline.fsa --taxonIdMappingFile @@dataDir@@/../taxonomy_RSRC/gi_taxid_prot.dmp</unpack>
    <getAndUnpackOutput file="@@dataDir@@/nrdb-short-defline.fsa"/>
    <getAndUnpackOutput file="@@dataDir@@/nr"/>
    <pluginArgs>--dbRefExternalDatabaseSpec "%RESOURCE_NAME%|%RESOURCE_VERSION%"</pluginArgs>
  </resource>

  <resource resource="blatAlignmentQuality_RSRC" version="2010-02-01"
      plugin="GUS::Supported::Plugin::LoadGusXml">
    <manualGet fileOrDir="global/ontology/alignmentQuality/%RESOURCE_VERSION%/blatalignmentquality.xml"/>
    <pluginArgs>--filename @@dataDir@@/blatalignmentquality.xml</pluginArgs>
  </resource>

<!--plasmoIsolatesResource-->
  <resource resource="isolateVocabulary_RSRC" version="2009-06-14"
      plugin="ApiCommonData::Load::Plugin::InsertIsolateVocabulary">
    <manualGet fileOrDir="global/ontology/isolate/%RESOURCE_VERSION%/isolateVocabulary.txt"/>
    <pluginArgs>--isolateVocabularyFile @@dataDir@@/isolateVocabulary.txt</pluginArgs>
  </resource>

  <resource resource="Continents_RSRC" version="2008-08-26"
      plugin="ApiCommonData::Load::Plugin::InsertContinents">
    <manualGet fileOrDir="global/ontology/Continents/%RESOURCE_VERSION%/continents.txt"/>
    <pluginArgs>--continentsFile @@dataDir@@/continents.txt</pluginArgs>
  </resource>

  <resource resource="BibRefType_RSRC" version="1.0"
      plugin="GUS::Supported::Plugin::LoadGusXml">
    <manualGet fileOrDir="global/ontology/bibliographicReferenceType/%RESOURCE_VERSION%/ncbiPublicationTypes.xml"/>
    <pluginArgs>--filename @@dataDir@@/ncbiPublicationTypes.xml</pluginArgs>
  </resource>
</resources>
