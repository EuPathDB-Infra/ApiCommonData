<resources>
  <resource plugin="GUS::Supported::Plugin::LoadFastaSequences"
            resource="Pknowlesi_chromosomes_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--externalDatabaseName %RESOURCE_NAME% --ncbiTaxId 5851 --externalDatabaseVersion %RESOURCE_VERSION% --sequenceFile @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.fasta --SOTermName 'chromosome'  --regexSourceId  '>(\S+)' --tableName "DoTS::ExternalNASequence" --regexChromosome '\|(\d+)' </pluginArgs>
    <unpack>mkdir @@dataDir@@/P.knowlesi.chromosomes_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.fasta --output_gff  @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.gff3</unpack>
  </resource>
  <resource parentResource="Pknowlesi_chromosomes_RSRC"
            plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
            resource="Pknowlesi_chromosomes_annotations_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--extDbName %PARENT_RESOURCE_NAME% --extDbRlsVer %PARENT_RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/sangerGFF2Gus.xml --inputFileOrDir @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.gff --inputFileExtension "gff"  --fileFormat gff3 --soCvsVersion @@SO_VER@@ --defaultOrganism "Plasmodium knowlesi strain H"  --seqSoTerm "chromosome" --validationLog @@dataDir@@/validation.log --bioperlTreeOutput @@dataDir@@/bioperlTree.out --seqIdColumn source_id --naSequenceSubclass ExternalNASequence</pluginArgs>
    <unpack>mkdir @@dataDir@@/P.knowlesi.chromosomes_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.fasta --output_gff  @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.gff3</unpack>
    <unpack>preprocessGFF3 --input_gff @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.gff3 --output_gff @@dataDir@@/P.knowlesi.chromosomes_fixed/Pknowlesi.gff</unpack>
  </resource>
  <resource parentResource="Pknowlesi_chromosomes_RSRC"
            plugin="GUS::Supported::Plugin::LoadFastaSequences"
            resource="Pknowlesi_contigs_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/contig/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--externalDatabaseName %PARENT_RESOURCE_NAME% --ncbiTaxId 5851 --externalDatabaseVersion %PARENT_RESOURCE_VERSION% --sequenceFile @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.fasta --SOTermName 'contig'  --regexSourceId  '>(\S+)' --tableName "DoTS::ExternalNASequence"</pluginArgs>
    <unpack>mkdir @@dataDir@@/P.knowlesi.contigs_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.fasta --output_gff  @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.gff3</unpack>
  </resource>
  <resource parentResource="Pknowlesi_chromosomes_RSRC"
            plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
            resource="Pknowlesi_contigs_annotations_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/contig/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--extDbName %PARENT_RESOURCE_NAME% --extDbRlsVer %PARENT_RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/sangerGFF2Gus.xml --inputFileOrDir @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.gff --inputFileExtension "gff"  --fileFormat gff3 --soCvsVersion @@SO_VER@@ --defaultOrganism "Plasmodium knowlesi strain H"  --seqSoTerm "contig" --validationLog @@dataDir@@/validation.log --bioperlTreeOutput @@dataDir@@/bioperlTree.out --seqIdColumn source_id --naSequenceSubclass ExternalNASequence</pluginArgs>
    <unpack>mkdir @@dataDir@@/P.knowlesi.contigs_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.fasta --output_gff  @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.gff3</unpack>
    <unpack>preprocessGFF3 --input_gff @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.gff3 --output_gff @@dataDir@@/P.knowlesi.contigs_fixed/Pknowlesi.gff</unpack>
  </resource>
  <resource plugin="GUS::Community::Plugin::InsertECMapping"
            resource="Pknowlesi_ECNumbers_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--ECMappingFile @@dataDir@@/Pknowlesi.ec --evidenceCode "GeneDB" --aaSeqLocusTagMappingSql "SELECT aa_sequence_id FROM dots.GeneFeature g, dots.Transcript t, dots.TranslatedAAFeature taf WHERE g.source_id = ? AND g.na_feature_id = t.parent_id AND t.na_feature_id = taf.na_feature_id"</pluginArgs>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --output_fasta @@dataDir@@/Pknowlesi.fasta --output_gff @@dataDir@@/Pknowlesi.gff3</unpack>
    <unpack>preprocessGFF3 --input_gff @@dataDir@@/Pknowlesi.gff3 --output_gff @@dataDir@@/Pknowlesi.gff</unpack>
    <unpack>makeECFile --format gff3 --fileOrDir @@dataDir@@/Pknowlesi.gff --id_qualifier ID --ec_qualifier eC_number --output_file @@dataDir@@/Pknowlesi.ec </unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertGOAssociationsSimple"
            resource="GOAssociations_Pknowlesi_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/function/@@Pknowlesi_chromosomes_VER@@/GOAssociations_Pknowlesi/Pknowlesi.GO" />
    <pluginArgs>--externalDatabaseSpec "%RESOURCE_NAME%|%RESOURCE_VERSION%" --inputFile @@dataDir@@/Pknowlesi.GO --goExternalDatabaseSpec "GO_RSRC|@@GO_VER@@" --seqIdSql "SELECT g.source_id, taf.aa_sequence_id FROM dots.genefeature g, dots.transcript t, dots.translatedAAFeature taf WHERE g.na_feature_id = t.parent_id AND t.na_feature_id = taf.na_feature_id UNION SELECT taf.source_id, taf.aa_sequence_id FROM dots.translatedAAFeature taf" --targetTable "DoTS::TranslatedAASequence" --lineOfEvidence "GeneDB" --inputIdColumn id --tolerateMissingSeqs --skipBadGOTerms @@dataDir@@/badGOTerms.log</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene"
            resource="Pk_previous_aliases_RSRC"
            version="2007-10-03">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/previousAliases/%RESOURCE_VERSION%/previousAliases.tab" />
    <pluginArgs>--MappingFile @@dataDir@@/previousAliasesWithTwoCols.tab</pluginArgs>
    <unpack>createTwoColumnFromMultipleColumn --inputFile @@dataDir@@/previousAliases.tab --outputFile @@dataDir@@/previousAliasesWithTwoCols.tab</unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertGeneFeatProductFromTabFile"
            resource="Pknowlesi_ProductName_RSRC"
            version="@@Pknowlesi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/genome/chromosome/%RESOURCE_VERSION%/gff/" />
    <pluginArgs>--file @@dataDir@@/PknowlesiProduct.tab --genomeDbName Pknowlesi_chromosomes_RSRC --genomeDbVer @@Pknowlesi_chromosomes_VER@@ </pluginArgs>
    <unpack>makeProductFile --format gff3 --fileOrDir @@dataDir@@/*.gff --output_file @@dataDir@@/PknowlesiProduct.tab --feat_with_geneid mRNA --geneid_qualifier Parent --feat_with_product polypeptide --prodfeatid_qualifier ID --product_qualifier product</unpack>
    <unpack>makeProductFile --format gff3 --fileOrDir @@dataDir@@/*.gff --output_file @@dataDir@@/PknowlesiProduct.tab --feat_with_geneid pseudogenic_transcript --geneid_qualifier Parent --feat_with_product polypeptide --prodfeatid_qualifier ID --product_qualifier product --append</unpack>
  </resource>
  <resource plugin="GUS::Supported::Plugin::dbEST"
            resource="Pk_dbEST_RSRC"
            version="@@Pk_dbEST_VER@@">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--span 500 --taxonFile @@dataDir@@/taxonIdFile --extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --soVer @@SO_VER@@ --dbestLoginFile @@dataDir@@/dbest.prop --dbestConnect @@dbestConnect@@ </pluginArgs>
    <unpack>getSubTaxa --ncbiTaxId 5850 --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
  </resource>
  <resource plugin="GUS::Supported::Plugin::LoadFastaSequences"
            resource="Pk_IEDB_Epitopes_RSRC"
            version="@@Pk_IEDB_Epitopes_VER@@">
    <getAndUnpackOutput dir="@@dataDir@@/IEDB_Epitopes_fixed/fasta" />
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPkno.txt" />
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportPkno.fsa" />
    <manualGet fileOrDir="PlasmoDB/pknowlesi/epitope/IEDB/%RESOURCE_VERSION%/IEDBExportPkno.txt" />
    <pluginArgs>--seqFileDir @@dataDir@@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %RESOURCE_NAME% --externalDatabaseVersion %RESOURCE_VERSION% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
    <unpack>mkdir -p @@dataDir@@/IEDB_Epitopes_fixed/fasta</unpack>
    <unpack>extractFromIEDB --inputFile @@dataDir@@/IEDBExportPkno.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPkno.txt </unpack>
    <unpack>generateEpitopeFastaFile --inputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPkno.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportPkno.fsa </unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_IEDB_Epitopes_DBxRefs_RSRC"
            version="@@Pk_IEDB_Epitopes_VER@@">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/dbRefs.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier, remark" --tableName "AASequenceDbRef"</pluginArgs>
    <unpack>createEpitopeDbRefFile --inputDir @@dataDir@@/../Pk_IEDB_Epitopes_RSRC/IEDB_Epitopes_fixed --outputFile @@dataDir@@/dbRefs.txt</unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_Entrez_DBRefs_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2EntrezUrl/%RESOURCE_VERSION%/final/gene2Url.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2Url.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_Pubmed_DBRefs_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Pubmed/%RESOURCE_VERSION%/final/gene2pubmed.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2pubmed.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_Entrez_Gene_dbxref_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Entrez/%RESOURCE_VERSION%/gene2entrez.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2entrez.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_Uniprot_Gene_dbxref_RSRC"
            version="@@Pk_Uniprot_Gene_dbxref_VER@@">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Uniprot/%RESOURCE_VERSION%/gene2uniprot.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2uniprot.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pk_ApiLoc_EupathDB_Dbrefs_RSRC"
            version="2010-06-17">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/dbxref/ApiLoc_dbrefs/%RESOURCE_VERSION%/gene2apiloc.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2apiloc.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::CorrectGeneAliases"
            resource="Pk_CorrectGeneAliases_RSRC"
            version="1">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--extDbRelSpecList "Pknowlesi_chromosomes_RSRC|@@Pknowlesi_chromosomes_VER@@"</pluginArgs>
    <unpack>cleanUpDBRefNaFeature.pl</unpack>
  </resource>
  <resource plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
            resource="Pk_TransFactorBindingSites_Llinas_RSRC"
            version="2010-04-21">
    <manualGet fileOrDir="PlasmoDB/pknowlesi/bindingSites/Llinas/%RESOURCE_VERSION%/final/allSites_reformat.gff" />
    <pluginArgs>--extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/PlasmoDB/pfDNABindingSite2gus.xml --inputFileOrDir @@dataDir@@/allSites_reformat.gff --fileFormat gff2 --soCvsVersion @@SO_VER@@  --gff2GroupTag ID --naSequenceSubclass ExternalNASequence --seqIdColumn source_id --seqExtDbName "Pknowlesi_chromosomes_RSRC"   --seqExtDbRlsVer @@Pknowlesi_chromosomes_VER@@</pluginArgs>
  </resource>
</resources>
