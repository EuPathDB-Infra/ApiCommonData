<wdkModel>

  <querySet name="OrfTables" queryType="table">

      <defaultTestParamValues includeProjects="PlasmoDB">
         <paramValue name="primaryKey">PB_RP3804-2-1862-2092</paramValue>
         <paramValue name="projectId">PlasmoDB</paramValue>
      </defaultTestParamValues>

      <defaultTestParamValues includeProjects="ToxoDB">
         <paramValue name="primaryKey">XI-4-4777010-4776843</paramValue>
         <paramValue name="projectId">ToxoDB</paramValue>
      </defaultTestParamValues>

      <defaultTestParamValues includeProjects="CryptoDB">
         <paramValue name="primaryKey">AAEE01000015-4-52922-52668</paramValue>
         <paramValue name="projectId">CryptoDB</paramValue>
      </defaultTestParamValues>

      <defaultTestParamValues includeProjects="GiardiaDB">
         <paramValue name="primaryKey">AACB02000007-2-49229-49390</paramValue>
         <paramValue name="projectId">GiardiaDB</paramValue>
      </defaultTestParamValues>

      <defaultTestParamValues includeProjects="TrichDB">
         <paramValue name="primaryKey">DS164731-2-86-799</paramValue>
         <paramValue name="projectId">TrichDB</paramValue>
      </defaultTestParamValues>
 
     <sqlQuery name="Locations" isCacheable="false" includeProjects="GiardiaDB">
            <paramRef ref="recordParams.primaryKey"/>
            <paramRef ref="recordParams.projectId"/>
            <column name="source_id"/>
            <column name="project_id"/>
            <column name="sequence_source_id"/>
            <column name="is_top_level"/>
            <column name="start_min"/>
            <column name="end_max"/>
            <column name="is_reversed"/>
            <column name="start_context"/>
            <column name="end_context"/>
            <column name="feature_source_id"/>
            <sql>
            <![CDATA[
             SELECT  oa.source_id, '@project_id@' AS project_id,
                     fl.feature_source_id,
                     fl.sequence_source_id,
                     Decode(fl.is_top_level,0, 'Contig', 1, 'Scaffold') as is_top_level,
                     fl.start_min,
                     fl.end_max,
                     Decode(fl.is_reversed, 0, '+', 1, '-') is_reversed,
                    (fl.start_min-5000)as start_context,
                    (fl.end_max+5000)as end_context
              FROM apidb.featurelocation fl, apidb.orfattributes oa 
              WHERE oa.source_id=$$primaryKey$$
                AND fl.feature_source_id = oa.source_id
              ORDER BY fl.is_top_level desc
            ]]>
            </sql>
        </sqlQuery>


 </querySet>
</wdkModel>



