<wdkModel>

  <questionSet name="SageTagQuestions"
               displayName="Search Sage Tags">

<!--

0. Find sage tags by genomic location
1. Find sage tag by sequence
2. Find sage tags by gene source_id
3. Find sage tags by expression level(count), experiment(library)
  - greater than some percentage or count in a given experiment
4. Find sag tags by rad_source_id(include giardiadb only)
5. Find all sage tags that align to less than some number of genes 
       OR Find all sage tags that align globally to less than some number of places
6.R value
-->

    <question name="SageTagByRStat"
              category="Other Attributes"
              displayName="Differential Expression"
              queryRef="SageTagIds.ByRStat"
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="ToxoDB,PlasmoDB,ApiDB,GiardiaDB">

             <attributesList 
               summary="organism,location_text,tag_sequence,gene_source_id,R"
               sorting="organism asc, R desc"
             />
             <summary>
               Find Sage Tags that are differentially expressed across 2 or more libraries.
             </summary>
             <description>
           <![CDATA[
               <p>Find Sage Tags that are differentially expressed across 2 or more libraries.</p>  <p>See the related <a href="showQuestion.do?questionFullName=GeneQuestions.GenesBySageTagRStat"><b>Genes by Differential Expression of Sage Tag Evidence</b></a> query for summing sage tag counts within predicted genes.
</p>
          ]]>
             </description>

        <dynamicAttributes>
             <columnAttribute name="R" displayName="R"
                              inReportMaker="false"/>
         </dynamicAttributes>
       <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

     </question>


    <question name="SageTagByLocation"
              category="Other Attributes"
              displayName="Chromosomal Location"
              queryRef="SageTagIds.ByLocation"
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="GiardiaDB">

             <attributesList 
               summary="dynamic_location,tag_sequence,gene_source_id"
               sorting="dynamic_location asc"
             />

            <dynamicAttributes>
              <columnAttribute name="dynamic_location" displayName="Location" align="left"/>
            </dynamicAttributes>
 
             <summary>
               Find Sage Tags that are located in a specified genomic region.
             </summary>
             <description>
               Find Sage Tags that are located in a specified genomic region.
             </description>

      <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

    </question>



    <question name="SageTagBySequence" 
              category="Other Attributes"
              displayName="Sequence"
              queryRef="SageTagIds.BySequence" 
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="ToxoDB, PlasmoDB,ApiDB,GiardiaDB">

             <attributesList 
               summary="organism,location_text,tag_sequence,gene_source_id"
               sorting="organism asc, tag_sequence asc"
             />
             <summary>
               Find Sage Tags Alignments By their Sequence.
             </summary>
             <description>
               Find Sage Tags Alignments By their Sequence.
             </description>

     <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

    </question>

    <question name="SageTagByGeneSourceId" 
              category="Other Attributes"
              displayName="GeneSource Id"
              queryRef="SageTagIds.ByGeneSourceId" 
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="ToxoDB,PlasmoDB,ApiDB,GiardiaDB">

             <attributesList 
               summary="organism,location_text,tag_sequence,gene_source_id"
               sorting="organism asc"
             />
             <summary>
               Find Sage Tags By Gene Identifier
             </summary>
             <description>
               Find Sage Tags By Gene Identifier
             </description>

    <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

    </question> 
    
   <question name="SageTagByExpressionLevel" 
              category="Other Attributes"
              displayName="Expression Level"
              queryRef="SageTagIds.ByExpressionLevel" 
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="ToxoDB,PlasmoDB,ApiDB,GiardiaDB">

             <attributesList 
               summary="organism,location_text,tag_sequence, SAGE_library, tag_count,tag_percentage, gene_source_id"
               sorting="organism asc, tag_count desc"
             />
             <summary>
               Find Sage Tags By Expression Level in a given library.
             </summary>
             <description>
         <![CDATA[
               <p>Find Sage Tags By Expression Level in a given library.</p>  <p>See the related <a href="showQuestion.do?questionFullName=GeneQuestions.GenesBySageTag"><b>Genes by Sage Tag Evidence</b></a> query for summing sage tag counts within predicted genes.
</p>
          ]]>
             </description>

           <dynamicAttributes includeProjects="PlasmoDB,ToxoDB,ApiDB,GiardiaDB">
	     <columnAttribute name="tag_count" displayName="Normalized Tag Count" align="center"/>
	     <columnAttribute name="tag_percentage" displayName="Normalized Tag Percentage" align="center"/>
             <columnAttribute name="raw_count" displayName="Raw Tag Count" align="center"/>
	     <columnAttribute name="raw_percentage" displayName="RawTag Percentage" align="center"/>
             <columnAttribute name="SAGE_library" displayName="Experiement Name" align="center"/>
	</dynamicAttributes>

    <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

    </question>

   <question name="SageTagByRadSourceId" 
              category="Other Attributes"
              displayName="ID"
              queryRef="SageTagIds.ByRadSourceId" 
              recordClassRef="SageTagRecordClasses.SageTagRecordClass"
              noSummaryOnSingleRecord="false" 
              includeProjects="GiardiaDB">

             <attributesList 
               summary="organism,location_text,tag_sequence,gene_source_id"
               sorting="organism asc"
             />
             <summary>
               Find Sage Tags By Identifier
             </summary>
             <description>
               Find Sage Tags By Identifier
             </description>

    <propertyList name="specificAttribution">
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagArrayDesign</value>
           <value includeProjects="ApiDB,GiardiaDB">GiardiaSageTagFreqs</value>
           <value includeProjects="ApiDB,ToxoDB">3primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">5primeToxoSageTags</value>
           <value includeProjects="ApiDB,ToxoDB">ToxoSageTagFreqs</value>
           <value includeProjects="ApiDB,PlasmoDB">SageTagArrayDesign</value>
           <value includeProjects="ApiDB,PlasmoDB">PlasmoSageTagFreqs</value>
       </propertyList>

    </question>



  </questionSet>

</wdkModel>
