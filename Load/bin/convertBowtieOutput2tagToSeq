#!/usr/bin/perl

use lib "$ENV{GUS_HOME}/lib/perl";
use strict;
use Getopt::Long;
use Bio::SeqIO;
use File::Basename;
use Data::Dumper;

my ($verbose, $help, $bowtieOutputFile, $tag2SeqFile,$outputGff,$inputFileExt);

&GetOptions('verbose' => \$verbose,
            'help|h' => \$help,
            'bowtie_output_file=s' => \$bowtieOutputFile,
	    'tag2seq_file=s' => \$tag2SeqFile,
 
           );

&usage() if($help);
&usage("Missing a Required Argument") unless(defined $bowtieOutputFile && $tag2SeqFile);


open(IN,"$bowtieOutputFile");
open(OUT,">$tag2SeqFile");

foreach my $line (<IN>){
	chomp($line);

	my(@fields) = split(/\t/,$line);

	if($fields[1] eq '+'){
		$fields[1] = 'forward';
	}else{
		$fields[1] = 'reverse';
	}	
	
	my $end = $fields[3] + length($fields[4]);

	
	print OUT "$fields[0] matched against $fields[2] from $fields[3] to $end on $fields[1] strand\n";
	
}

close(IN);
close(OUT);


sub usage{

}