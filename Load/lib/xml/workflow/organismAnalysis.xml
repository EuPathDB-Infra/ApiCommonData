<workflowGraph name="organismAnalysis">
  <param name="parentDataDir"/>
  <param name="organismName"/>
  <param name="organismTwoLetterAbbrev"/>
  <param name="genomeExtDb"/>
  <param name="genomeExtDbRls"/>
  <param name="interproVersion"/>
  <param name="iedbVersion"/>
  <param name="nrdbVersion"/>
  <param name="soVersion"/>
  <param name="tigrVersion"/>
  <param name="ncbiTaxonVersion"/>
  <param name="ncbiTaxonId"/>
  <param name="nrdbFile"/>
  <param name="nrdbShortDeflineFile"/>
  <param name="pdbFile"/>
  <param name="maxIntronSize"/>
  <param name="calculateTranslatedProteins"/>
  <param name="taxonHierarchyForBlastxFilter"/>


  <constant name="dataDir">$$parentDataDir$$/$$organismName$$</constant>

  <step name="makeDataDir" class="ApiCommonData::Load::WorkflowSteps::MakeDir">
    <paramValue name="dir">$$dataDir$$</paramValue>
  </step>

  <subgraph name="genomeAnalysis" xmlFile="genomeAnalysis.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismName">$$organismName$$</paramValue>
    <paramValue name="genomeExtDb">$$genomeExtDb$$</paramValue>
    <paramValue name="genomeExtDbRls">$$genomeExtDbRls$$</paramValue>
    <paramValue name="tigrVersion">$$tigrVersion$$</paramValue>
    <paramValue name="ncbiTaxonVersion">$$ncbiTaxonVersion$$</paramValue>
    <paramValue name="ncbiTaxonId">$$ncbiTaxonId$$</paramValue>    
    <paramValue name="parentNcbiTaxonId">$$parentNcbiTaxonId$$</paramValue>
    <paramValue name="predictedTranscriptsSql"></paramValue>
    <paramValue name="nrdbFile">$$nrdbFile$$</paramValue>
    <paramValue name="nrdbShortDeflineOutputFile">$$nrdbShortDeflineFile$$</paramValue>
    <paramValue name="maxIntronSize">$$maxIntronSize$$</paramValue>
    <paramValue name="taxonHierarchyForBlastxFilter">$$taxonHierarchyForBlastxFilter$$</paramValue>
    <paramValue name="runSplign">$$runSplign$$</paramValue>
    <depends step="makeSeqfilesDir"/>
  </subgraph>

  <subgraph name="proteomeAnalysis" xmlFile="proteomeAnalysis.xml">
    <paramValue name="parentDataDir">$$dataDir$$</paramValue>
    <paramValue name="organismTwoLetterAbbrev">$$organismTwoLetterAbbrev$$</paramValue>
    <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
    <paramValue name="iedbVersion">$$iedbVersion$$</paramValue>
    <paramValue name="interproVersion">$$interproVersion$$</paramValue>
    <paramValue name="nrdbVersion">$$nrdbVersion$$</paramValue>
    <paramValue name="nrdbFile">$$nrdbFile$$</paramValue>
    <paramValue name="nrdbShortDeflineFile">$$nrdbShortDeflineFile$$</paramValue>
    <paramValue name="pdbFile">$$pdbFile$$</paramValue>
    <paramValue name="calculateTranslatedProteins">$$calculateTranslatedProteins$$</paramValue>
    <depends step="makeSeqfilesDir"/>
  </subgraph>

</workflowGraph>
