<workflowGraph name="organismAnalysis">
  <param name="organismName"/>
  <param name="organismTwoLetterAbbrev"/>
  <param name="genomeExtDb"/>
  <param name="genomeExtDbRls"/>
  <param name="interproVersion"/>
  <param name="iedbVersion"/>
  <param name="nrdbVersion"/>
  <param name="soVersion"/>
  <param name="tigrVersion"/>
  <param name="ncbiTaxonVersion"/>
  <param name="ncbiTaxonId"/>
  <param name="nrdbFile"/>
  <param name="nrdbShortDeflineFile"/>
  <param name="pdbFile"/>
  <param name="maxIntronSize"/>
  <param name="calculateTranslatedProteins"/>
  <param name="taxonHierarchyForBlastxFilter"/>


  <constant name="organismDataDir">data/$$organismName$$</constant>
  <constant name="organismTaskLogsDir">taskLogs/$$organismName$$</constant>

  <step name="makeDataDir" class="ApiCommonData::Load::WorkflowSteps::MakeDir">
    <paramValue name="dir">$$organismDataDir$$</paramValue>
  </step>

  <step name="makeSeqfilesDir" class="ApiCommonData::Load::WorkflowSteps::MakeDir">
    <paramValue name="dir">$$organismDataDir$$/seqfiles</paramValue>
    <depends step="makeDataDir"/>
  </step>

  <step name="makeTaskLogsDir" class="ApiCommonData::Load::WorkflowSteps::MakeDir">
    <paramValue name="dir">$$organismTaskLogsDir$$</paramValue>
  </step>

  <subgraph name="genomeAnalysis" xmlFile="genomeAnalysis.xml">
    <paramValue name="organismDataDir">$$organismDataDir$$</paramValue>
    <paramValue name="organismTaskLogsDir">$$organismTaskLogsDir$$</paramValue>
    <paramValue name="organismTwoLetterAbbrev">$$organismTwoLetterAbbrev$$</paramValue>
    <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
    <depends step="makeSeqfilesDir"/>
    <depends step="makeTaskLogsDir"/>
  </subgraph>

  <subgraph name="proteomeAnalysis" xmlFile="proteomeAnalysis.xml">
    <paramValue name="organismDataDir">$$organismDataDir$$</paramValue>
    <paramValue name="organismTaskLogsDir">$$organismTaskLogsDir$$</paramValue>
    <paramValue name="organismTwoLetterAbbrev">$$organismTwoLetterAbbrev$$</paramValue>
    <paramValue name="genomeExtDbRlsSpec">$$genomeExtDbRlsSpec$$</paramValue>
    <paramValue name="iedbVersion">$$iedbVersion$$</paramValue>
    <paramValue name="interproVersion">$$interproVersion$$</paramValue>
    <paramValue name="nrdbVersion">$$nrdbVersion$$</paramValue>
    <paramValue name="nrdbFile">$$nrdbFile$$</paramValue>
    <paramValue name="nrdbShortDeflineFile">$$nrdbShortDeflineFile$$</paramValue>
    <paramValue name="pdbFile">$$pdbFile$$</paramValue>
    <paramValue name="calculateTranslatedProteins">$$calculateTranslatedProteins$$</paramValue>
    <depends step="makeSeqfilesDir"/>
    <depends step="makeTaskLogsDir"/>
  </subgraph>

</workflowGraph>
