<workflowGraph name="commonAnalysis">
      <param name="nrdbExtDbRlsSpec"/>
      <param name="nrdbOutputFile"/>
      <param name="nrdbShortDeflineOutputFile"/>
      <param name="pdbOutputFile"/>
      <param name="projectDB"/>
      <param name="projectRelease"/>

    <step name="makeDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">common</paramValue>
    </step>

    <step name="initClusterHomeDir"
          stepClass="ApiCommonData::Load::WorkflowSteps::InitClusterHomeDir">
    </step>

    <step name="initUserGroupProject" 
          stepClass="ApiCommonData::Load::WorkflowSteps::InitUserGroupProject">
    </step>

    <step name="makeBlastWebServicesDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">/files/cbil/data/cbil/apiSiteFiles/webServices/$$projectDB$$/$$projectRelease$$/blast</paramValue>
    </step>

    <step name="makeTextSearchWebServicesDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">/files/cbil/data/cbil/apiSiteFiles/webServices/$$projectDB$$/$$projectRelease$$/textSearch</paramValue>
    </step>

    <step name="makeMercatorWebServicesDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">/files/cbil/data/cbil/apiSiteFiles/webServices/$$projectDB$$/$$projectRelease$$/mercator</paramValue>
    </step>

    <step name="makeMotifWebServicesDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">/files/cbil/data/cbil/apiSiteFiles/webServices/$$projectDB$$/$$projectRelease$$/motif</paramValue>
    </step>

    <step name="makeMercatorDataDir" stepClass="ApiCommonData::Load::WorkflowSteps::MakeDir">
      <paramValue name="dataDir">common/mercator</paramValue>
      <depends name="makeDataDir"/>
    </step>

    <step name="copyPdbFile" stepClass="ApiCommonData::Load::Steps::MoveDownloadFile">
      <paramValue name="fromFile">PDBProteinSequences/pdb.fsa</paramValue>
      <paramValue name="toFile">$$pdbOutputFile$$</paramValue>
      <depends name="makeDataDir"/>
    </step>

    <step name="copyNrdbFile" stepClass="ApiCommonData::Load::Steps::MoveDownloadFile">
      <paramValue name="fromFile">NRDB/nr.gz</paramValue>
      <paramValue name="toFile">$$nrdbOutputFile$$</paramValue>
      <depends name="makeDataDir"/>
    </step>

    <step name="shortenNrdbDefline" stepClass="ApiCommonData::Load::Steps::ShortenDefline">
      <paramValue name="fromFile">$$nrdbOutputFile$$</paramValue>
      <paramValue name="toFile">$$nrdbShortDeflineOutputFile$$</paramValue>
      <depends name="copyNrdbFile"/>
    </step>

    <step name="mirrorToCluster" stepClass="ApiCommonData::Load::WorkflowSteps::MirrorToCluster">
      <paramValue name="parentDir"></paramValue>
      <paramValue name="fileOrDirToMirror">common</paramValue>
      <depends name="initClusterHomeDir"/>
      <depends name="shortenNrdbDefline"/>
      <depends name="copyPdbFile"/>
    </step>

</workflowGraph>
