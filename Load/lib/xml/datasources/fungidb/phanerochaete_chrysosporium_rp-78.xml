<!-- Phanerochaete chrysosporum (RP-78) resources file -->

<resources>

       <!-- ISF FASTA resource -->
       <resource
             resource="phanerochaete_chrysosporium_rp-78_genome_sequence_RSRC"
             version="@@phanerochaete_chrysosporium_rp-78_GENOME_SEQUENCE_VER@@"
             plugin="GUS::Supported::Plugin::LoadFastaSequences">

             <manualGet fileOrDir="FungiDB/phanerochaete_chrysosporium_rp-78/genome/%RESOURCE_VERSION%/phanerochaete_chrysosporium_rp-78_strain_supercontigs.fasta"/>

             <!-- Standardize scaffold IDs by prefixing -->
             <unpack>
                   fungidb_uniquify_and_standardize_seqids.pl
                   --input  @@dataDir@@/phanerochaete_chrysosporium_rp-78_supercontigs.fasta
                   --output @@dataDir@@/phanerochaete_chrysosporium_rp-78_supercontigs.uniquified.fasta
                   --prefix @@phanerochaete_chrysosporium_rp-78_ORGANISM_ABBREVIATION@@
             </unpack>

             <pluginArgs>
                     --externalDatabaseName %RESOURCE_NAME%
                     --ncbiTaxId @@phanerochaete_chrysosporium_rp-78_NCBI_TAXONOMY_ID@@
                     --externalDatabaseVersion %RESOURCE_VERSION%
                     --sequenceFile @@dataDir@@/phanerochaete_chrysosporium_rp-78_supercontigs.uniquified.fasta
                     --SOTermName 'chromosome'
                     --regexSourceId  '>(\S+)'
                     --tableName "DoTS::ExternalNASequence"
                     --regexChromosome '\d+\.(\d+)'
             </pluginArgs>

             <info
                      displayName="Phanerochaete chrysosporium (rp-78) genomic sequence"
                      project="FungiDB"
                      organisms="@@phanerochaete_chrysosporium_rp-78_ORGANISM_FULL_NAME@@"
                      category="Genome"
                      publicUrl=""
                      contact=""
                      email=""
                      institution="Joint Genome Institute">
                      <description>
                         <![CDATA[
                            Phanerochaete chrysosporium (rp-78) genomic sequence. Source: JGI."                            
                         ]]>
                      </description>
              </info>
  </resource>

  <!-- ISF genome annotations -->
  <resource
          resource="phanerochaete_chrysosporium_rp-78_genome_annotations_RSRC"
          version="@@phanerochaete_chrysosporium_rp-78_GENOME_VERSION_VER@@"
          parentResource="phanerochaete_chrysosporium_rp-78_genome_sequence_RSRC"
          plugin="GUS::Supported::Plugin::InsertSequenceFeatures">
 
          <manualGet fileOrDir="FungiDB/phanerochaete_chrysosporium_rp-78/genome/%RESOURCE_VERSION%/phanerochaete_chrysosporium_rp-78_transcripts.gff3"/> 

          <!-- Standardize scaffold IDs by prefixing -->
          <unpack>
                fungidb_uniquify_and_standardize_seqids.pl
                --input  @@dataDir@@/phanerochaete_chrysosporium_rp-78_transcripts.gff3
                --output @@dataDir@@/phanerochaete_chrysosporium_rp-78_transcripts.uniquified.gff3
                --prefix @@phanerochaete_chrysosporium_rp-78_ORGANISM_ABBREVIATION@@
          </unpack>

          <unpack>
              preprocessGFF3 
                 --input_gff @@dataDir@@/phanerochaete_chrysosporium_rp-78_transcripts.uniquified.gff3
                 --output_gff @@dataDir@@/phanerochaete_chrysosporium_rp-78_transcripts.transformed.gff
          </unpack>

          <pluginArgs>
                 --extDbName %PARENT_RESOURCE_NAME%
                 --extDbRlsVer %PARENT_RESOURCE_VERSION%
                 --mapFile @@gusHome@@/lib/xml/isf/FungiDB/broadGFF32Gus.xml
                 --inputFileOrDir @@dataDir@@/phanerochaete_chrysosporium_rp-78_transcripts.transformed.gff3
                 --inputFileExtension "gff3" 
                 --fileFormat gff3 
                 --soCvsVersion @@SO_VER@@
                 --defaultOrganism "Phanerochaete chrysosporium (RP-78)"
                 --seqSoTerm "chromosome"
                 --validationLog @@dataDir@@/validation.log
                 --bioperlTreeOutput @@dataDir@@/bioperlTree.out
                 --seqIdColumn source_id
                 --naSequenceSubclass ExternalNASequence
           </pluginArgs>

           <info
                displayName="Phanerochaete chrysosporium (RP-78) genomic annotations."
                project="FungiDB"
                organisms="@@phanerochaete_chrysosporium_rp-78_ORGANISM_FULL_NAME@@"
                category="Genome"
                publicUrl=""
                contact=""
                email=""
                institution="Joint Genome Institute">
                <description>
                 <![CDATA[
                     Phanerochaete_chrysosporium (RP-78) genomic annotations. Source: JGI.
                 ]]>
                </description>
           </info>
    </resource>

  <!-- dbEST -->
  <resource resource="phanerochaete_chrysosporium_rp-78_dbest_RSRC" version="@@phanerochaete_chrysosporium_rp-78_DBEST_VER@@"
                                                          plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId @@phanerochaete_chrysosporium_rp-78_NCBI_TAXONOMY_ID@@ --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file  @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 
                --taxonFile @@dataDir@@/taxonIdFile 
                --extDbName %RESOURCE_NAME% 
                --extDbRlsVer %RESOURCE_VERSION%
                --soVer @@SO_VER@@
                --dbestLoginFile @@dataDir@@/dbest.prop 
                --dbestConnect @@dbestConnect@@
    </pluginArgs>

    <info
        displayName="Phanerochaete chrysosporium (RP-78) dbEST ESTs"
        project="FungiDB"
        organisms="@@phanerochaete_chrysosporium_rp-78_ORGANISM_FULL_NAME@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         Phanerochaeta chrysosporium ESTs from dbEST.
        ]]>
      </description>
    </info>
  </resource>

</resources>
