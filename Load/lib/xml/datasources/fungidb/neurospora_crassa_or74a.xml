<!-- Neurospora crassa OR74A Resource File -->

<resources>

       <!-- ISF FASTA resource -->
       <resource
             resource="neurospora_crassa_or74a_genome_sequence_RSRC"
             version="@@neurospora_crassa_or74a_GENOME_SEQUENCE_VER@@"
             plugin="GUS::Supported::Plugin::LoadFastaSequences">

             <manualGet fileOrDir="FungiDB/neurospora_crassa_or74a/genome/%RESOURCE_VERSION%/neurospora_crassa_or74a_supercontigs.fasta"/>

             <!-- Standardize scaffold IDs by prefixing -->
<!--
             <unpack>
                   fungidb_uniquify_and_standardize_seqids.pl
                   --input  @@dataDir@@/neurospora_crassa_or74a_supercontigs.fasta
                   --output @@dataDir@@/neurospora_crassa_or74a_supercontigs.uniquified.fasta
                   --prefix @@neurospora_crassa_or74a_ORGANISM_ABBREVIATION@@
             </unpack>
-->

             <pluginArgs>
                     --externalDatabaseName %RESOURCE_NAME%
                     --ncbiTaxId @@neurospora_crassa_or74a_NCBI_TAXONOMY_ID@@
                     --externalDatabaseVersion %RESOURCE_VERSION%
                     --sequenceFile @@dataDir@@/neurospora_crassa_or74a_supercontigs.uniquified.fasta
                     --SOTermName 'chromosome'
                     --regexSourceId  '>(\S+)'
                     --tableName "DoTS::ExternalNASequence"
                     --regexChromosome '\d+\.(\d+)'
             </pluginArgs>

             <info
                      displayName="Neurospora crassa (OR74A) genomic sequence"
                      project="FungiDB"
                      organisms="@@neurospora_crassa_or74a_ORGANISM_FULL_NAME@@"
                      category="Genome"
                      publicUrl="http://www.broadinstitute.org/annotation/genome/neurospora/MultiDownloads.html"
                      contact=""
                      email=""
                      institution="The Broad Institute">
                      <description>
                         <![CDATA[
                            Neurospora crassa (OR74A) genomic sequence. Source: The Broad Institute.
                         ]]>
                      </description>
              </info>
  </resource>

  <!-- ISF genome annotations -->
  <resource
          resource="neurospora_crassa_or74a_genome_annotations_RSRC"
          version="@@neurospora_crassa_or74a_GENOME_SEQUENCE_VER@@"
          parentResource="neurospora_crassa_or74a_genome_sequence_RSRC"
          plugin="GUS::Supported::Plugin::InsertSequenceFeatures">
 
          <manualGet fileOrDir="FungiDB/neurospora_crassa_or74a/genome/%RESOURCE_VERSION%/neurospora_crassa_or74a_transcripts.gff3"/> 

          <!-- Standardize scaffold IDs by prefixing -->

<!--
          <unpack>
                fungidb_uniquify_and_standardize_seqids.pl
                --input  @@dataDir@@/neurospora_crassa_or74a_transcripts.gff3
                --output @@dataDir@@/neurospora_crassa_or74a_transcripts.uniquified.gff3
                --prefix @@neurospora_crassa_or74a_ORGANISM_ABBREVIATION@@
                --mapping_file primary_gene_aliases.tab
          </unpack>

          <unpack>
              preprocessGFF3 
                 --input_gff @@dataDir@@/neurospora_crassa_or74a_transcripts.uniquified.gff3
                 --output_gff @@dataDir@@/neurospora_crassa_or74a_transcripts.transformed.gff3
          </unpack>
-->

          <pluginArgs>
                 --extDbName %PARENT_RESOURCE_NAME%
                 --extDbRlsVer %PARENT_RESOURCE_VERSION%
                 --mapFile @@gusHome@@/lib/xml/isf/FungiDB/broadGFF32Gus.xml
                 --inputFileOrDir @@dataDir@@/neurospora_crassa_or74a_transcripts.transformed.gff3
                 --inputFileExtension "gff3" 
                 --fileFormat gff3 
                 --soCvsVersion @@SO_VER@@
                 --defaultOrganism "Neurospora crassa OR74A"
                 --seqSoTerm "chromosome"
                 --validationLog @@dataDir@@/validation.log
                 --bioperlTreeOutput @@dataDir@@/bioperlTree.out
                 --seqIdColumn source_id
                 --naSequenceSubclass ExternalNASequence
           </pluginArgs>

           <info
                displayName="Neurospora crassa (OR74A) genomic annotations"
                project="FungiDB"
                organisms="@@neurospora_crassa_or74a_ORGANISM_FULL_NAME@@"
                category="Genome"
                publicUrl="http://www.broadinstitute.org/annotation/genome/neurospora/MultiDownloads.html"
                contact=""
                email=""
                institution="The Broad Institute">
                <description>
                 <![CDATA[
                     Neurospora crassa (OR74A) genomic annotations. Source: The Broad Institute.
                 ]]>
                </description>
           </info>
    </resource>



 <!-- //////////////////////
           ALIASES
       ////////////////////// -->

  <resource resource="neurospora_crassa_or74a_primary_gene_aliases_RSRC" 
            version="@@neurospora_crassa_or74a_VER@@"
            plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene">
 
    <manualGet fileOrDir="FungiDB/neurospora_crassa_or74a/genome/%RESOURCE_VERSION%/primary_gene_aliases.tab"/>

    <pluginArgs>--MappingFile @@dataDir@@/primary_gene_aliases.tab</pluginArgs>
    <info
        displayName="Mapping of FungiDB IDs to original gene names."
        project="FungiDB"
        organisms="@@neurospora_crassa_or74a_ORGANISM_FULL_NAME@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>



  <!-- dbEST -->
  <resource resource="neurospora_crassa_or74a_dbest_RSRC" version="@@neurospora_crassa_or74a_DBEST_VER@@"
                                                          plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId @@neurospora_crassa_or74a_NCBI_TAXONOMY_ID@@ --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file  @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 
                --taxonFile @@dataDir@@/taxonIdFile 
                --extDbName %RESOURCE_NAME% 
                --extDbRlsVer %RESOURCE_VERSION%
                --soVer @@SO_VER@@
                --dbestLoginFile @@dataDir@@/dbest.prop 
                --dbestConnect @@dbestConnect@@
    </pluginArgs>

    <info
        displayName="Neurospora crassa (OR74A) dbEST ESTs"
        project="FungiDB"
        organisms="@@neurospora_crassa_or74a_ORGANISM_FULL_NAME@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         Neurospora crassa ESTs from dbEST.
        ]]>
      </description>
    </info>
  </resource>

</resources>
