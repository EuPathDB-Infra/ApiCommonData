<!-- Phanerochaete chrysosporum (RP-78) resources file -->

<resources>

       <!-- ISF FASTA resource -->
       <resource
             resource="phanerochaete_chrysosporium_rp78_genome_sequence_RSRC"
             version="@@phanerochaete_chrysosporium_rp78_GENOME_SEQUENCE_VER@@"
             plugin="GUS::Supported::Plugin::LoadFastaSequences">

             <manualGet fileOrDir="FungiDB/phanerochaete_chrysosporium_rp78/genome/%RESOURCE_VERSION%/phanerochaete_chrysosporium_rp78_strain_supercontigs.fasta"/>

             <!-- Standardize scaffold IDs by prefixing -->
             <unpack>
                   fungidb_uniquify_and_standardize_seqids.pl
                   --input  @@dataDir@@/phanerochaete_chrysosporium_rp78_supercontigs.fasta
                   --output @@dataDir@@/phanerochaete_chrysosporium_rp78_supercontigs.uniquified.fasta
                   --prefix @@phanerochaete_chrysosporium_rp78_FUNGIDB_ABBREVIATION@@
             </unpack>

             <pluginArgs>
                     --externalDatabaseName %RESOURCE_NAME%
                     --ncbiTaxId @@phanerochaete_chrysosporium_rp78_NCBI_TAXONOMY_ID@@
                     --externalDatabaseVersion %RESOURCE_VERSION%
                     --sequenceFile @@dataDir@@/phanerochaete_chrysosporium_rp78_supercontigs.uniquified.fasta
                     --SOTermName 'chromosome'
                     --regexSourceId  '>(\S+)'
                     --tableName "DoTS::ExternalNASequence"
                     --regexChromosome '\d+\.(\d+)'
             </pluginArgs>

             <info
                      displayName="Phanerochaete chrysosporium (RP78) genomic sequence"
                      project="FungiDB"
                      organisms="@@phanerochaete_chrysosporium_rp78_FUNGIDB_DISPLAY_NAME@@"
                      category="Genome"
                      publicUrl="http://genome.jgi-psf.org/Phchr1/"
                      contact="JGI"
                      email="http://contact.jgi-psf.org/cgi-bin/support/contact_global.pl?inquiry=cgi&organism=Phchr1"
                      institution="Joint Genome Institute">
                      <description>
                         <![CDATA[
                            Phanerochaete chrysosporium (RP78) genomic sequence. Source: JGI                          
                         ]]>
                      </description>
              </info>
  </resource>

  <!-- ISF genome annotations -->
  <resource
          resource="phanerochaete_chrysosporium_rp78_genome_annotations_RSRC"
          version="@@phanerochaete_chrysosporium_rp78_GENOME_SEQUENCE_VER@@"
          parentResource="phanerochaete_chrysosporium_rp78_genome_sequence_RSRC"
          plugin="GUS::Supported::Plugin::InsertSequenceFeatures">
 
          <manualGet fileOrDir="FungiDB/phanerochaete_chrysosporium_rp78/genome/%RESOURCE_VERSION%/phanerochaete_chrysosporium_rp78_transcripts.gff3"/> 

          <!-- Standardize scaffold IDs by prefixing -->
          <unpack>
                fungidb_uniquify_and_standardize_seqids.pl
                --input  @@dataDir@@/phanerochaete_chrysosporium_rp78_transcripts.gff3
                --output @@dataDir@@/phanerochaete_chrysosporium_rp78_transcripts.uniquified.gff3
                --prefix @@phanerochaete_chrysosporium_rp78_FUNGIDB_ABBREVIATION@@
          </unpack>

          <unpack>
              preprocessGFF3 
                 --input_gff @@dataDir@@/phanerochaete_chrysosporium_rp78_transcripts.uniquified.gff3
                 --output_gff @@dataDir@@/phanerochaete_chrysosporium_rp78_transcripts.transformed.gff
          </unpack>

          <pluginArgs>
                 --extDbName %PARENT_RESOURCE_NAME%
                 --extDbRlsVer %PARENT_RESOURCE_VERSION%
                 --mapFile @@gusHome@@/lib/xml/isf/FungiDB/broadGFF32Gus.xml
                 --inputFileOrDir @@dataDir@@/phanerochaete_chrysosporium_rp78_transcripts.transformed.gff3
                 --inputFileExtension "gff3" 
                 --fileFormat gff3 
                 --soCvsVersion @@SO_VER@@
                 --defaultOrganism "Phanerochaete chrysosporium (RP-78)"
                 --seqSoTerm "chromosome"
                 --validationLog @@dataDir@@/validation.log
                 --bioperlTreeOutput @@dataDir@@/bioperlTree.out
                 --seqIdColumn source_id
                 --naSequenceSubclass ExternalNASequence
           </pluginArgs>

           <info
                displayName="Phanerochaete chrysosporium (RP78) genomic annotations."
                project="FungiDB"
                organisms="@@phanerochaete_chrysosporium_rp78_FUNGIDB_DISPLAY_NAME@@"
                category="Genome"
		publicUrl="http://genome.jgi-psf.org/Phchr1/"
		contact="JGI"
		email="http://contact.jgi-psf.org/cgi-bin/support/contact_global.pl?inquiry=cgi&organism=Phchr1"
		institution="Joint Genome Institute">

                <description>
                 <![CDATA[
                     Phanerochaete_chrysosporium (RP78) genomic annotations. Source: JGI
                 ]]>
                </description>
           </info>
    </resource>


 <!-- //////////////////////
           ALIASES
       ////////////////////// -->

  <resource resource="phanerochaete_chrysosporium_rp78_primary_gene_aliases_RSRC" 
            version="@@phanerochaete_chrysosporium_rp78_GENOME_SEQUENCE_VER@@"
            plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene">
 
    <manualGet fileOrDir="FungiDB/phanerochaete_chrysosporium_rp78/genome/%RESOURCE_VERSION%/primary_gene_aliases.tab"/>
    <pluginArgs>--MappingFile @@dataDir@@/primary_gene_aliases.tab</pluginArgs>
    <info
        displayName="Mapping of FungiDB IDs to original gene names."
        project="FungiDB"
        organisms="@@phanerochaete_chrysosporim_rp78_FUNGIDB_DISPLAY_NAME@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>



  <!-- dbEST -->
  <resource resource="phanerochaete_chrysosporium_rp78_dbest_RSRC" version="@@phanerochaete_chrysosporium_rp78_DBEST_VER@@"
                                                          plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId @@phanerochaete_chrysosporium_rp78_NCBI_TAXONOMY_ID@@ --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file  @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 
                --taxonFile @@dataDir@@/taxonIdFile 
                --extDbName %RESOURCE_NAME% 
                --extDbRlsVer %RESOURCE_VERSION%
                --soVer @@SO_VER@@
                --dbestLoginFile @@dataDir@@/dbest.prop 
                --dbestConnect @@dbestConnect@@
    </pluginArgs>

    <info
        displayName="Phanerochaete chrysosporium (RP-78) dbEST ESTs"
        project="FungiDB"
        organisms="@@phanerochaete_chrysosporium_rp78_FUNGIDB_DISPLAY_NAME@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact="NCBI HelpDesk"
        email="info@ncbi.nlm.nih.gov"
        institution="NCBI">
      <description>
        <![CDATA[
         Phanerochaeta chrysosporium ESTs from dbEST.
        ]]>
      </description>
    </info>
  </resource>

</resources>
