<!-- Rhizopus oryzae (99-880) Resources -->
<resources>

     <!-- ISF FASTA resource -->
     <resource 
            resource="rhizopus_oryzae_99880_genome_sequence_RSRC"
            version="@@rhizopus_oryzae_99880_GENOME_SEQUENCE_VER@@"
            plugin="GUS::Supported::Plugin::LoadFastaSequences">

            <!-- Transforming upstream of ISF/workflow... -->            
            <manualGet 
                   fileOrDir="FungiDB/rhizopus_oryzae_99880/genome/%RESOURCE_VERSION%/rhizopus_oryzae_99880_supercontigs.uniquified.fasta"/>
            <!-- or within the workflow iteself... -->
            <!--
            <manualGet 
              fileOrDir="FungiDB/rhizopus_oryzae_99880/genome/%RESOURCE_VERSION%/rhizopus_oryzae_99880_supercontigs.fasta"/>
            <unpack>
                  fungidb_uniquify_and_standardize_seqids.pl
                      --input  @@dataDir@@/rhizopus_oryzae_99880_supercontigs.fasta
                      --output @@dataDir@@/rhizopus_oryzae_99880_supercontigs_uniquified.fasta
                      --prefix @@rhizopus_oryzae_99880_FUNGIDB_ABBREVIATION@@
            </unpack>
            -->

            <pluginArgs>
                   --externalDatabaseName %RESOURCE_NAME%
                   --ncbiTaxId @@rhizopus_oryzae_99880_NCBI_TAXONOMY_ID@@
                   --externalDatabaseVersion %RESOURCE_VERSION%
                   --sequenceFile @@dataDir@@/rhizopus_oryzae_99880_supercontigs_uniquified.fasta
                   --SOTermName 'supercontig'  
                   --regexSourceId  '>(\S+)' 
                   --tableName "DoTS::ExternalNASequence" 
                   --regexChromosome '\d+\.(\d+)'
             </pluginArgs>

             <info
                   displayName="Rhizopus oryzae (99-880) genomic sequence"
                   project="FungiDB"
                   organisms="@@rhizopus_oryzae_99880_FUNGIDB_DISPLAY_NAME@@"
                   category="Genome"
                   publicUrl="http://www.broadinstitute.org/annotation/genome/rhizopus_oryzae/"
		   contact="Broad Instute Annotation Webmaster"
                   email="annotation-webmaster@broadinstitute.org"
                   institution="Broad Institute">          
                   <description>
                          <![CDATA[
                              Rhizopus oryzae (99-880) genomic sequence. Source: Broad Institute
                          ]]>
                   </description>
          </info>
  </resource>

  <!-- ISF genome annotations -->
  <resource 
         resource="rhizopus_oryzae_99880_genome_annotations_RSRC"
         version="@@rhizopus_oryzae_99880_GENOME_SEQUENCE_VER@@" 
         parentResource="rhizopus_oryzae_99880_genome_sequence_RSRC"
         plugin="GUS::Supported::Plugin::InsertSequenceFeatures">


        <!-- Transforming upstream of ISF/workflow... -->
        <manualGet fileOrDir="FungiDB/rhizopus_oryzae_99880/genome/%RESOURCE_VERSION%/rhizopus_oryzae_99880_transcripts.transformed.gff3" />

        <!-- or within the workflow iteself... -->
        <!--
        <manualGet fileOrDir="FungiDB/rhizopus_oryzae_99880/genome/%RESOURCE_VERSION%/rhizopus_oryzae_99880_transcripts.gff3" />
        <unpack>
               fungidb_uniquify_and_standardize_seqids.pl
                   --input  @@dataDir@@/rhizopus_oryzae_99880_transcripts.gff3
                   --output @@dataDir@@/rhizopus_oryzae_99880_transcripts.uniquified.gff3
                   --prefix @@rhizopus_oryzae_99880_FUNGIDB_ABBREVIATION@@
        </unpack>

         <unpack>
               preprocessGFF3 
                   --input_gff  @@dataDir@@/rhizopus_oryzae_99880_transcripts.uniquified.gff3
                   --output_gff @@dataDir@@/rhizopus_oryzae_99880_transcripts.transformed.gff3
         </unpack>
         -->

         <pluginArgs>
                --extDbName %PARENT_RESOURCE_NAME%
                --extDbRlsVer %PARENT_RESOURCE_VERSION%
                --mapFile @@gusHome@@/lib/xml/isf/FungiDB/broadGFF32Gus.xml
                --inputFileOrDir @@dataDir@@/rhizopus_oryzae_99880_transcripts.transformed.gff3
                --inputFileExtension "gff3"
                --fileFormat gff3
                --soCvsVersion @@SO_VER@@
                --defaultOrganism "@@rhizopus_oryzae_99880_NCBI_DISPLAY_NAME@@"
                --seqSoTerm "supercontig"
                --validationLog @@dataDir@@/validation.log
                --bioperlTreeOutput @@dataDir@@/bioperlTree.out
                --seqIdColumn source_id
                --naSequenceSubclass ExternalNASequence
            </pluginArgs>

            <info
                displayName="Rhizopus oryzae (99-880) genomic annotations"
                project="FungiDB"
                organisms="@@rhizopus_oryzae_99880_FUNGIDB_DISPLAY_NAME@@"
                category="Genome"
		publicUrl="http://www.broadinstitute.org/annotation/genome/rhizopus_oryzae/"
		contact="Broad Instute Annotation Webmaster"
		email="annotation-webmaster@broadinstitute.org"
		institution="Broad Institute">                          
                <description>
                     <![CDATA[
                      Rhizopus oryzae (99-880) genomic annotations. Source: Broad Institute.
                      ]]>
                </description>
            </info>
  </resource>


 <!-- //////////////////////
           ALIASES
       ////////////////////// -->

  <resource resource="rhizopus_oryzae_99880_primary_gene_aliases_RSRC" 
            version="@@rhizopus_oryzae_99880_GENOME_SEQUENCE_VER@@"
            plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene">
 
    <manualGet fileOrDir="FungiDB/rhizopus_oryzae_99880/genome/%RESOURCE_VERSION%/primary_gene_aliases.tab"/>
    <pluginArgs>--MappingFile @@dataDir@@/primary_gene_aliases.tab</pluginArgs>
    <info
        displayName="Mapping of FungiDB IDs to original gene names."
        project="FungiDB"
        organisms="@@rhizopus_oryzae_99880_FUNGIDB_DISPLAY_NAME@@"
        category="ignore"
	publicUrl="http://www.broadinstitute.org/annotation/genome/rhizopus_oryzae/"
	contact="Broad Instute Annotation Webmaster"
	email="annotation-webmaster@broadinstitute.org"
	institution="Broad Institute">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>

 
  <!-- dbEST -->
  <resource resource="rhizopus_oryzae_99880_dbEST_RSRC" version="@@rhizopus_oryzae_99880_DBEST_VER@@"
                                                          plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId @@rhizopus_oryzae_99880_NCBI_TAXONOMY_ID@@ --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file  @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 
                --taxonFile @@dataDir@@/taxonIdFile 
                --extDbName %RESOURCE_NAME% 
                --extDbRlsVer %RESOURCE_VERSION%
                --soVer @@SO_VER@@
                --dbestLoginFile @@dataDir@@/dbest.prop 
                --dbestConnect @@dbestConnect@@
    </pluginArgs>

    <info
        displayName="Rhizopus oryzae dbEST ESTs"
        project="FungiDB"
        organisms="@@rhizopus_oryzae_99880_FUNGIDB_DISPLAY_NAME@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact="NCBI HelpDesk"
        email="info@ncbi.nlm.nih.gov"
        institution="NCBI">
      <description>
        <![CDATA[
         Rhizopus oryzae ESTs from dbEST.
        ]]>
      </description>
    </info>
  </resource>
  <resources>

<!--RNASeq-->
  <resource resource="rhizopus_oryzae_99880_RNASeq_hyphal_tip_RSRC" version="@@rhizopus_oryzae_99880_RNASeq_hyphal_tip_VER@@"
      plugin="ApiCommonData::Load::Plugin::LoadNothing">
    <manualGet fileOrDir="FungiDB/rhizopus_oryzae_99880/RNA-Seq/hyphal_tip/"/>
    <getAndUnpackOutput dir="@@dataDir@@/hyphal_tip"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/config.txt"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO20H_1.fq"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO20H_2.fq"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO3H_1.fq"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO3H_2.fq"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO5H_1.fq"/>
    <getAndUnpackOutput file="@@dataDir@@/hyphal_tip/RO5H_2.fq"/>
    <pluginArgs>--dbRefExternalDatabaseSpec "%RESOURCE_NAME%|%RESOURCE_VERSION%"</pluginArgs>
    <info
        displayName="Rhizopus oryzae 99880 RNASeq hyphal tip"
        project="FungiDB"
        organisms="@@rhizopus_oryzae_99880_FUNGIDB_DISPLAY_NAME@@"
        category="Genome"
        publicUrl=""
        contact="Jason Stajich"
        email="jason.stajich@ucr.edu"
        institution="UC Riverside">
      <description>
        <![CDATA[
Rhizopus oryzae 99880 RNASeq hyphal tip.

        ]]>
      </description>
    </info>
  </resource>
</resources>
