<resources>

<!--ISFResource-->

  <resource resource="TannulataAnkara_chromosomes_RSRC" version="@@TannulataAnkara_chromosomes_VER@@"
      plugin="GUS::Supported::Plugin::LoadFastaSequences">
    <manualGet fileOrDir="PiroplasmaDB/tannulataAnkara/genome/tAnnulataAnkara/chromosome/%RESOURCE_VERSION%/"/>
    <pluginArgs>--externalDatabaseName %RESOURCE_NAME% --ncbiTaxId 353154 --externalDatabaseVersion %RESOURCE_VERSION% --sequenceFile @@dataDir@@/ --SOTermName 'chromosome'  --regexSourceId  '>(\S+)\|' --tableName "DoTS::ExternalNASequence" --regexChromosome '\|(\d+)'</pluginArgs>
    <info
        displayName="TannulataAnkara chromosomes sequence and annotation"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="Genome"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[

        ]]>
      </description>
    </info>
  </resource>

  <resource resource="TannulataAnkara_annotations_RSRC" version="@@TannulataAnkara_chromosomes_VER@@" parentResource="TannulataAnkara_chromosomes_RSRC"
      plugin="GUS::Supported::Plugin::InsertSequenceFeatures">
    <manualGet fileOrDir=""/>
    <pluginArgs>--extDbName %PARENT_RESOURCE_NAME% --extDbRlsVer %PARENT_RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/geneDBGFF2Gus.xml --inputFileOrDir @@dataDir@@/ --inputFileExtension "gff"  --fileFormat gff3 --soCvsVersion @@SO_VER@@ --defaultOrganism "Theileria annulata strain Ankara"  --seqSoTerm "chromosome" --validationLog @@dataDir@@/validation.log --bioperlTreeOutput @@dataDir@@/bioperlTree.out --seqIdColumn source_id --naSequenceSubclass ExternalNASequence</pluginArgs>
    <info
        displayName="TannulataAnkara sequence and annotation"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[

        ]]>
      </description>
    </info>
  </resource>



<!--ESTResource-->
  <resource resource="TannulataAnkara_dbEST_RSRC" version="@@TannulataAnkara_dbEST_VER@@"
      plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId 353154 --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 --taxonFile @@dataDir@@/taxonIdFile --extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --soVer @@SO_VER@@ --dbestLoginFile @@dataDir@@/dbest.prop --dbestConnect @@dbestConnect@@ </pluginArgs>
    <info
        displayName="Piroplasma dbEST ESTs"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         TriTryp ESTs from dbEST.
        ]]>
      </description>xb
    </info>
  </resource>


<!--DbxRefsResource-->
  <resource resource="TannulataAnkara_Entrez_Gene_dbxref_RSRC" version="2010-10-13"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/common/dbxref/Gene2Entrez/%RESOURCE_VERSION%/gene2entrez.tab"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2entrez.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'TannulataAnkara_chromosomes_RSRC|@@TannulataAnkara_chromosomes_VER@@'  --idType 'alternate id'</pluginArgs>
    <info
        displayName="dbxref from entrez gene ids to eupathdb gene identifiers"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="TannulataAnkara_Uniprot_Gene_dbxref_RSRC" version="@@TannulataAnkara_Uniprot_Gene_dbxref_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/common/dbxref/Gene2Uniprot/%RESOURCE_VERSION%/gene2uniprot.tab"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2uniprot.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec ''TannulataAnkara_chromosomes_RSRC|@@'TannulataAnkara_chromosomes_VER@@' --idType 'alternate id'</pluginArgs>
    <info
        displayName="dbxref from Uniprot gene ACs to eupathdb gene identifiers"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>

<!--Proteome-->

  <resource resource="TannulataAnkara_IEDB_Epitopes_RSRC" version="@@TannulataAnkara_IEDB_Epitopes_VER@@"
      plugin="GUS::Supported::Plugin::LoadFastaSequences">
    <manualGet fileOrDir="PiroplasmaDB/common/epitope/IEDB/%RESOURCE_VERSION%/IEDBExportTannulataAnkara.txt"/>
    <unpack>mkdir -p @@dataDir@@/IEDB_Epitopes_fixed/fasta</unpack>
    <unpack>extractFromIEDB --inputFile @@dataDir@@/IEDBExportTannulataAnkara.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportTannulataAnkara.txt </unpack>
    <unpack>generateEpitopeFastaFile --inputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportTannulataAnkara.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportTannulataAnkara.txt </unpack>
    <getAndUnpackOutput dir="@@dataDir@@/IEDB_Epitopes_fixed"/>
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/IEDBExportTannulataAnkara.txt"/>
    <pluginArgs>--seqFileDir @@dataDir@@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %RESOURCE_NAME% --externalDatabaseVersion %RESOURCE_VERSION% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
    <info
        displayName="IEDB Epitopes"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="Proteome"
        publicUrl="http://www.immuneepitope.org"
        contact="IEDB"
        email=""
        institution="IEDB">
      <description>
        <![CDATA[
         IEDB epitopes.
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="TannulataAnkara_IEDB_Epitopes_DBxRefs_RSRC" version="@@TannulataAnkara_IEDB_Epitopes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="global/empty"/>
    <unpack>createEpitopeDbRefFile --inputDir @@dataDir@@/../TannulataAnkara_IEDB_Epitopes_RSRC/IEDB_Epitopes_fixed --outputFile @@dataDir@@/dbRefs.txt</unpack>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/dbRefs.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier, remark" --tableName "AASequenceDbRef"</pluginArgs>
    <info
        displayName="IEDB Epitopes"
        project="PiroplasmaDB"
        organisms="@@TannulataAnkaraOrganismFullName@@"
        category="ignore"
        publicUrl="http://www.immuneepitope.org"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         IEDB epitopes.
        ]]>
      </description>
    </info>
  </resource>
</resources>
