<resources>

<!--ISFResource-->

  <resource resource="BbovisT2Bo_genomes_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="GUS::Supported::Plugin::InsertSequenceFeatures">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/genome/bbovisT2Bo/%RESOURCE_VERSION%/gb/"/>
    <pluginArgs>--organism "Babesia bovis T2Bo" --extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --fileFormat genbank --inputFileOrDir @@dataDir@@/gb --mapFile @@gusHome@@/lib/xml/isf/PiroplasmaDB/piroGenbank2Gus.xml --soCvsVersion @@SO_VER@@ --bioperlTreeoutput @@dataDir@@/bioperlTree.out --validationLog @@dataDir@@/validation.log --seqSoTerm contig</pluginArgs>
    <info
        displayName="BbovisT2Bo sequence and annotation"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="Genome"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
genomes.
        ]]>
      </description>
    </info>
  </resource>


  <resource resource="BbovisT2Bo_ECNumbers_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="GUS::Community::Plugin::InsertECMapping">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/function/Bbovis_genome_RSRC_ecnumbers/%RESOURCE_VERSION%/ec.txt"/>
    <pluginArgs>--ECMappingFile @@dataDir@@/ec.txt --evidenceCode "GeneDB" --aaSeqLocusTagMappingSql "SELECT aa_sequence_id FROM dots.GeneFeature g, dots.Transcript t, dots.TranslatedAAFeature taf WHERE g.source_id = ? AND g.na_feature_id = t.parent_id AND t.na_feature_id = taf.na_feature_id"</pluginArgs>
    <info
        displayName="EC Number Mappings"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="Proteome"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         EC Number mapping.
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_ProductName_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertGeneFeatProductFromTabFile">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/function/Bbovis_genome_RSRC_product/%RESOURCE_VERSION%/product.txt"/>
    <pluginArgs>--file @@dataDir@@/product.txt --productDbName BbovisT2Bo_genomes_RSRC --productDbVer @@BbovisT2Bo_genomes_VER@@</pluginArgs>
    <info
        displayName="Bbovis Product Name"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_Comment_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertNaFeatCommentFromTabFile">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/genome/Bbovis_genome_RSRC_geneComment/%RESOURCE_VERSION%/comments.txt"/>
    <pluginArgs>--file @@dataDir@@/comments.txt --genomeDbName BbovisT2Bo_genomes_RSRC --genomeDbVer @@BbovisT2Bo_genomes_VER@@ </pluginArgs>
    <info
        displayName="Bbovis Comment Name"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_altids_dbxref_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/dbxref/Bbovis_genome_RSRC/%RESOURCE_VERSION%/Bbovis_altids.txt"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/Bbovis_altids.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'BbovisT2Bo_genomes_RSRC|@@BbovisT2Bo_genomes_VER@@' --idType 'alternate id'</pluginArgs>
    <info
        displayName="Bbovis alternate id mappings"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_geneid_dbxref_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/dbxref/Bbovis_genome_RSRC/%RESOURCE_VERSION%/Bbovis_geneid.txt"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/Bbovis_geneid.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'BbovisT2Bo_genomes_RSRC|@@BbovisT2Bo_genomes_VER@@' --idType 'alternate id'</pluginArgs>
    <info
        displayName="Bbovis gene id mappings"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_gi_dbxref_RSRC" version="@@BbovisT2Bo_genomes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/bbovisT2Bo/dbxref/Bbovis_genome_RSRC/%RESOURCE_VERSION%/Bbovis_gi.txt"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/Bbovis_gi.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'BbovisT2Bo_genomes_RSRC|@@BbovisT2Bo_genomes_VER@@' --idType 'alternate id'</pluginArgs>
    <info
        displayName="Bbovis gi mappings"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[         
        ]]>
      </description>
    </info>
  </resource>

<!--ESTResource-->
  <resource resource="BbovisT2Bo_dbEST_RSRC" version="@@BbovisT2Bo_dbEST_VER@@"
      plugin="GUS::Supported::Plugin::dbEST">
    <manualGet fileOrDir="global/empty"/>
    <unpack>getSubTaxa --ncbiTaxId 484906 --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
    <pluginArgs>--span 500 --taxonFile @@dataDir@@/taxonIdFile --extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --soVer @@SO_VER@@ --dbestLoginFile @@dataDir@@/dbest.prop --dbestConnect @@dbestConnect@@ </pluginArgs>
    <info
        displayName="Piroplasma dbEST ESTs"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="Transcriptome"
        publicUrl="http://www.ncbi.nlm.nih.gov/dbEST/"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         PiroplasmaDB ESTs from dbEST.
        ]]>
      </description>xb
    </info>
  </resource>


<!--DbxRefsResource-->
  <resource resource="BbovisT2Bo_Entrez_Gene_dbxref_RSRC" version="2011-01-31"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/common/dbxref/Gene2Entrez/%RESOURCE_VERSION%/gene2entrez.tab"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2entrez.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'BbovisT2Bo_genomes_RSRC|@@BbovisT2Bo_genomes_VER@@'  --idType 'alternate id'</pluginArgs>
    <info
        displayName="dbxref from entrez gene ids to eupathdb gene identifiers"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[         
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_Uniprot_Gene_dbxref_RSRC" version="@@BbovisT2Bo_Uniprot_Gene_dbxref_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="PiroplasmaDB/common/dbxref/Gene2Uniprot/%RESOURCE_VERSION%/gene2uniprot.tab"/>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2uniprot.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"  --geneExternalDatabaseSpec 'BbovisT2Bo_genomes_RSRC|@@BbovisT2Bo_genomes_VER@@' --idType 'alternate id'</pluginArgs>
    <info
        displayName="dbxref from Uniprot gene ACs to eupathdb gene identifiers"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl=""
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         
        ]]>
      </description>
    </info>
  </resource>

<!--Proteome-->

  <resource resource="BbovisT2Bo_IEDB_Epitopes_RSRC" version="@@BbovisT2Bo_IEDB_Epitopes_VER@@"
      plugin="GUS::Supported::Plugin::LoadFastaSequences">
    <manualGet fileOrDir="PiroplasmaDB/common/epitope/IEDB/%RESOURCE_VERSION%/final/IEDBExportBbovisT2Bo.txt"/>
    <unpack>mkdir -p @@dataDir@@/IEDB_Epitopes_fixed/fasta</unpack>
    <unpack>extractFromIEDB --inputFile @@dataDir@@/IEDBExportBbovisT2Bo.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportBbovisT2Bo.txt </unpack>
    <unpack>generateEpitopeFastaFile --inputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportBbovisT2Bo.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportBbovisT2Bo.txt </unpack>
    <getAndUnpackOutput dir="@@dataDir@@/IEDB_Epitopes_fixed"/>
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/IEDBExportBbovisT2Bo.txt"/>
    <pluginArgs>--seqFileDir @@dataDir@@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %RESOURCE_NAME% --externalDatabaseVersion %RESOURCE_VERSION% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
    <info
        displayName="IEDB Epitopes"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="Proteome"
        publicUrl="http://www.immuneepitope.org"
        contact="IEDB"
        email=""
        institution="IEDB">
      <description>
        <![CDATA[
         IEDB epitopes.
        ]]>
      </description>
    </info>
  </resource>

  <resource resource="BbovisT2Bo_IEDB_Epitopes_DBxRefs_RSRC" version="@@BbovisT2Bo_IEDB_Epitopes_VER@@"
      plugin="ApiCommonData::Load::Plugin::InsertDBxRefs">
    <manualGet fileOrDir="global/empty"/>
    <unpack>createEpitopeDbRefFile --inputDir @@dataDir@@/../BbovisT2Bo_IEDB_Epitopes_RSRC/IEDB_Epitopes_fixed --outputFile @@dataDir@@/dbRefs.txt</unpack>
    <pluginArgs>--DbRefMappingFile @@dataDir@@/dbRefs.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier, remark" --tableName "AASequenceDbRef"</pluginArgs>
    <info
        displayName="IEDB Epitopes"
        project="PiroplasmaDB"
        organisms="@@BbovisT2BoOrganismFullName@@"
        category="ignore"
        publicUrl="http://www.immuneepitope.org"
        contact=""
        email=""
        institution="">
      <description>
        <![CDATA[
         IEDB epitopes.
        ]]>
      </description>
    </info>
  </resource>

</resources>
