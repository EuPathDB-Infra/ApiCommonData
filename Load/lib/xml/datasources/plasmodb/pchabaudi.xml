<resources>
  <resource plugin="GUS::Supported::Plugin::LoadFastaSequences"
            resource="Pchabaudi_chromosomes_RSRC"
            version="@@Pchabaudi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--externalDatabaseName %RESOURCE_NAME% --ncbiTaxId 31271 --externalDatabaseVersion %RESOURCE_VERSION% --sequenceFile @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.fasta --SOTermName 'chromosome'  --regexSourceId  '>(\S+)' --tableName "DoTS::ExternalNASequence" --regexChromosome '\|(\w+)'</pluginArgs>
    <unpack>mkdir @@dataDir@@/P.chabaudi.chromosomes_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.fasta --output_gff  @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.gff3</unpack>
  </resource>
  <resource parentResource="Pchabaudi_chromosomes_RSRC"
            plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
            resource="Pchabaudi_annotations_RSRC"
            version="@@Pchabaudi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--extDbName %PARENT_RESOURCE_NAME% --extDbRlsVer %PARENT_RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/sangerGFF2Gus.xml --inputFileOrDir @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.gff --inputFileExtension "gff"  --fileFormat gff3 --soCvsVersion @@SO_VER@@ --defaultOrganism "Plasmodium chabaudi chabaudi"  --seqSoTerm "chromosome" --validationLog @@dataDir@@/validation.log --bioperlTreeOutput @@dataDir@@/bioperlTree.out --seqIdColumn source_id --naSequenceSubclass ExternalNASequence</pluginArgs>
    <unpack>mkdir @@dataDir@@/P.chabaudi.chromosomes_fixed</unpack>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --inputFileExt gff --output_fasta @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.fasta --output_gff  @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.gff3</unpack>
    <unpack>preprocessGFF3 --input_gff @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.gff3 --output_gff @@dataDir@@/P.chabaudi.chromosomes_fixed/Pchabaudi.gff</unpack>
  </resource>
  <resource plugin="GUS::Community::Plugin::InsertECMapping"
            resource="Pchabaudi_ECNumbers_RSRC"
            version="@@Pchabaudi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/chromosome/%RESOURCE_VERSION%/gff" />
    <pluginArgs>--ECMappingFile @@dataDir@@/Pchabaudi.ec --evidenceCode "GeneDB" --aaSeqLocusTagMappingSql "SELECT aa_sequence_id FROM dots.GeneFeature g, dots.Transcript t, dots.TranslatedAAFeature taf WHERE g.source_id = ? AND g.na_feature_id = t.parent_id AND t.na_feature_id = taf.na_feature_id"</pluginArgs>
    <unpack>splitGff3FilesIntoFastaAndCustomGff3 --input_dir @@dataDir@@/gff --output_fasta @@dataDir@@/Pchabaudi.fasta --output_gff @@dataDir@@/Pchabaudi.gff3</unpack>
    <unpack>preprocessGFF3 --input_gff @@dataDir@@/Pchabaudi.gff3 --output_gff @@dataDir@@/Pchabaudi.gff</unpack>
    <unpack>makeECFile --format gff3 --fileOrDir @@dataDir@@/Pchabaudi.gff --id_qualifier ID --ec_qualifier eC_number --output_file @@dataDir@@/Pchabaudi.ec </unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertGOAssociationsSimple"
            resource="GOAssociations_Pchabaudi_RSRC"
            version="@@Pchabaudi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/function/@@Pchabaudi_chromosomes_VER@@/GOAssociations_Pchabaudi/Pchabaudi.GO" />
    <pluginArgs>--externalDatabaseSpec "%RESOURCE_NAME%|%RESOURCE_VERSION%" --inputFile @@dataDir@@/Pchabaudi.GO --goExternalDatabaseSpec "GO_RSRC|@@GO_VER@@" --seqIdSql "SELECT g.source_id, taf.aa_sequence_id FROM dots.genefeature g, dots.transcript t, dots.translatedAAFeature taf WHERE g.na_feature_id = t.parent_id AND t.na_feature_id = taf.na_feature_id UNION SELECT taf.source_id, taf.aa_sequence_id FROM dots.translatedAAFeature taf" --targetTable "DoTS::TranslatedAASequence" --lineOfEvidence "GeneDB" --inputIdColumn id --tolerateMissingSeqs --skipBadGOTerms @@dataDir@@/badGOTerms.log</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene"
            resource="Pc_previous_aliases_RSRC"
            version="2009-03-24">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/previousAliases/%RESOURCE_VERSION%/previousAliases.tab" />
    <pluginArgs>--MappingFile @@dataDir@@/previousAliasesWithTwoCols.tab</pluginArgs>
    <unpack>createTwoColumnFromMultipleColumn --inputFile @@dataDir@@/previousAliases.tab --outputFile @@dataDir@@/previousAliasesWithTwoCols.tab</unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene"
            resource="Pc_geneDB_Ids_RSRC"
            version="2009-07-21">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/geneDB_ids/%RESOURCE_VERSION%/geneDB_ids.tab" />
    <pluginArgs>--MappingFile @@dataDir@@/geneDB_ids.tab</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertGeneFeatProductFromTabFile"
            resource="Pchabaudi_ProductName_RSRC"
            version="@@Pchabaudi_chromosomes_VER@@">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/genome/chromosome/%RESOURCE_VERSION%/gff/" />
    <pluginArgs>--file @@dataDir@@/PchabaudiProduct.tab --genomeDbName Pchabaudi_chromosomes_RSRC --genomeDbVer @@Pchabaudi_chromosomes_VER@@ </pluginArgs>
    <unpack>makeProductFile --format gff3 --fileOrDir @@dataDir@@/*.gff --output_file @@dataDir@@/PchabaudiProduct.tab --feat_with_geneid mRNA --geneid_qualifier Parent --feat_with_product polypeptide --prodfeatid_qualifier ID --product_qualifier product</unpack>
    <unpack>makeProductFile --format gff3 --fileOrDir @@dataDir@@/*.gff --output_file @@dataDir@@/PchabaudiProduct.tab --feat_with_geneid pseudogenic_transcript --geneid_qualifier Parent --feat_with_product polypeptide --prodfeatid_qualifier ID --product_qualifier product --append</unpack>
  </resource>
  <resource plugin="GUS::Supported::Plugin::dbEST"
            resource="Pc_dbEST_RSRC"
            version="@@Pc_dbEST_VER@@">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--span 500 --taxonFile @@dataDir@@/taxonIdFile --extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --soVer @@SO_VER@@ --dbestLoginFile @@dataDir@@/dbest.prop --dbestConnect @@dbestConnect@@ </pluginArgs>
    <unpack>getSubTaxa --ncbiTaxId 5825 --outputFile @@dataDir@@/taxonIdFile</unpack>
    <unpack>createPropFile --file @@dataDir@@/dbest.prop --propList "dbestLogin:@@dbestLogin@@,dbestPswd:@@dbestPswd@@"</unpack>
  </resource>
  <resource plugin="GUS::Supported::Plugin::LoadFastaSequences"
            resource="Pc_IEDB_Epitopes_RSRC"
            version="@@Pc_IEDB_Epitopes_VER@@">
    <getAndUnpackOutput dir="@@dataDir@@/IEDB_Epitopes_fixed/fasta" />
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPcha.txt" />
    <getAndUnpackOutput file="@@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportPcha.fsa" />
    <manualGet fileOrDir="PlasmoDB/pchabaudi/epitope/IEDB/%RESOURCE_VERSION%/IEDBExportPcha.txt" />
    <pluginArgs>--seqFileDir @@dataDir@@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %RESOURCE_NAME% --externalDatabaseVersion %RESOURCE_VERSION% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
    <unpack>mkdir -p @@dataDir@@/IEDB_Epitopes_fixed/fasta</unpack>
    <unpack>extractFromIEDB --inputFile @@dataDir@@/IEDBExportPcha.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPcha.txt </unpack>
    <unpack>generateEpitopeFastaFile --inputFile @@dataDir@@/IEDB_Epitopes_fixed/IEDBExportPcha.txt --outputFile @@dataDir@@/IEDB_Epitopes_fixed/fasta/IEDBExportPcha.fsa </unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_IEDB_Epitopes_DBxRefs_RSRC"
            version="@@Pc_IEDB_Epitopes_VER@@">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/dbRefs.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier, remark" --tableName "AASequenceDbRef"</pluginArgs>
    <unpack>createEpitopeDbRefFile --inputDir @@dataDir@@/../Pc_IEDB_Epitopes_RSRC/IEDB_Epitopes_fixed --outputFile @@dataDir@@/dbRefs.txt </unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::CorrectGeneAliases"
            resource="Pc_CorrectGeneAliases_RSRC"
            version="1">
    <manualGet fileOrDir="global/empty" />
    <pluginArgs>--extDbRelSpecList "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
    <unpack>cleanUpDBRefNaFeature.pl</unpack>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Entrez_DBRefs_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2EntrezUrl/%RESOURCE_VERSION%/final/gene2Url.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2Url.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Phenotype_DBRefs_RSRC"
            version="2010-06-17">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Phenotype/%RESOURCE_VERSION%/final/geneid_list.txt" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/geneid_list.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Pubmed_DBRefs_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Pubmed/%RESOURCE_VERSION%/final/gene2pubmed.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2pubmed.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Entrez_Gene_dbxref_RSRC"
            version="2010-06-16">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Entrez/%RESOURCE_VERSION%/gene2entrez.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2entrez.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Uniprot_Gene_dbxref_RSRC"
            version="@@Pc_Uniprot_Gene_dbxref_VER@@">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2Uniprot/%RESOURCE_VERSION%/gene2uniprot.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2uniprot.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Winzeler_Westenberger_Dbrefs_RSRC"
            version="2010-06-17">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2OPIAndlit/%RESOURCE_VERSION%/final/gene2OPI.txt" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2OPI.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_Winzeler_Literature_References_RSRC"
            version="2010-06-17">
    <manualGet fileOrDir="PlasmoDB/common/dbxref/Gene2OPIAndlit/%RESOURCE_VERSION%/final/gene2lit.txt" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2lit.txt --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
            resource="Pc_ApiLoc_EupathDB_Dbrefs_RSRC"
            version="2010-06-17">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/dbxref/ApiLoc_dbrefs/%RESOURCE_VERSION%/gene2apiloc.tab" />
    <pluginArgs>--DbRefMappingFile @@dataDir@@/gene2apiloc.tab --extDbName %RESOURCE_NAME% --extDbReleaseNumber %RESOURCE_VERSION% --columnSpec "remark" --tableName "DbRefNAFeature" --geneExternalDatabaseSpec "Pchabaudi_chromosomes_RSRC|@@Pchabaudi_chromosomes_VER@@"</pluginArgs>
  </resource>
  <resource plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
            resource="Pc_TransFactorBindingSites_Llinas_RSRC"
            version="2010-04-21">
    <manualGet fileOrDir="PlasmoDB/pchabaudi/bindingSites/Llinas/%RESOURCE_VERSION%/final/allSites_reformat.gff" />
    <pluginArgs>--extDbName %RESOURCE_NAME% --extDbRlsVer %RESOURCE_VERSION% --mapFile @@gusHome@@/lib/xml/isf/PlasmoDB/pfDNABindingSite2gus.xml --inputFileOrDir @@dataDir@@/allSites_reformat.gff --fileFormat gff2 --soCvsVersion @@SO_VER@@  --gff2GroupTag ID --naSequenceSubclass ExternalNASequence --seqIdColumn source_id  --seqExtDbName "Pchabaudi_chromosomes_RSRC"   --seqExtDbRlsVer @@Pchabaudi_chromosomes_VER@@</pluginArgs>
  </resource>
</resources>
