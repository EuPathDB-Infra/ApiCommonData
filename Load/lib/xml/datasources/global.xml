<resourcesPipeline>

  <resource resource="taxonomy" version="2009-02-23" 
            displayName="NCBI Taxonomy"
            publicUrl="ftp://ftp.ncbi.nih.gov/pub/taxonomy/"
            category="Ontology"
            url="ftp://ftp.ncbi.nih.gov/pub/taxonomy/"
            plugin="GUS::Supported::Plugin::LoadTaxon">
     <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=2 --accept=gi_taxid_prot.dmp.gz,taxdump.tar.gz</wgetArgs>
     <unpack>gunzip @downloadDir@/gi_taxid_prot.dmp.gz</unpack>
     <unpack>$currDir=`pwd`; cd @dataDir@ ; tar -xzf taxdump.tar.gz ; rm -f taxdump.tar ; cd $currDir</unpack>
     <pluginArgs>--names @dataDir@/names.dmp --nodes @dataDir@/nodes.dmp --gencode @dataDir@/gencode.dmp --merged @dataDir@/merged.dmp --verbose</pluginArgs>
     <description>
        <![CDATA[
    The NCBI Taxonomy database contains the names of all organisms that are represented in the Entrez genetic databases.
          ]]>
    </description>
  </resource>

    <resource resource="SO" version="2.3"
        displayName="Sequence Ontology"        
        publicUrl="http://song.sourceforge.net"
        category="Ontology"      
	url="http://song.cvs.sourceforge.net/*checkout*/song/ontology/so.obo?revision=2.3"
        plugin="GUS::Supported::Plugin::InsertSequenceOntologyOBO">
        <wgetArgs>--tries=5 --output-document=so.obo</wgetArgs>
        <pluginArgs>--inputFile @dataDir@/so.obo --soVersion @soVer@ --soCvsVersion @soVer@</pluginArgs>
            <description>
         <![CDATA[
    The Sequence Ontology Project (SO) is a joint effort by genome annotation centres, including: WormBase, the Berkeley Drosophila Genome Project, FlyBase, the Mouse Genome Informatics group, and the Sanger Institute. They are a part of the Gene Ontology Project  and their aim is to develop an ontology suitable for describing biological sequences.
          ]]>
     </description>
    </resource>

  <resource resource="enzymeDB" version="2009-02-11" 
            displayName="Enzyme nomenclature database"
            publicUrl="http://www.expasy.org/enzyme"
            category="Ontology"
            url="ftp://ftp.expasy.org/databases/enzyme/"
            plugin="GUS::Community::Plugin::LoadEnzymeDatabase">            >
     <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --accept=enzclass.txt,enzyme.dat</wgetArgs>
     <pluginArgs>--InPath @dataDir@ --enzymeDbName %EXT_DB_NAME% --enzymeDbRlsVer %EXT_DB_RLS_VER%</pluginArgs>
     <description>
         <![CDATA[
    ENZYME is a repository of information relative to the nomenclature of enzymes. It is primarily based on the recommendations of the Nomenclature Committee of the International Union of Biochemistry and Molecular Biology (IUBMB) and it describes each type of characterized enzyme for which an EC (Enzyme Commission) number has been provided
          ]]>
     </description>
  </resource>
 
<resource resource="GO_evidence_codes" version="1.17"
        displayName="Gene Ontology evidence codes"        
        publicUrl="http://song.sourceforge.net"
        category="Ontology"   
	url="http://obo.cvs.sourceforge.net/*checkout*/obo/obo/ontology/evidence_code.obo"
        plugin="ApiCommonData::Load::Plugin::InsertGOEvidenceCodesFromObo">
      <wgetArgs>--tries=5 --output-document=evidence_code.obo</wgetArgs>
      <pluginArgs>--oboFile @dataDir@/evidence_code.obo</pluginArgs>
      <description>
            <![CDATA[
   Every GO annotation must indicate the type of evidence that supports it; these evidence codes correspond to broad categories of experimental or other support. 
          ]]>
        </description>
    </resource>

<resource resource="GO" version="4.540"
            displayName="Gene Ontology"
            publicUrl="http://www.geneontology.org"
            category="Ontology"
            url="http://www.geneontology.org/ontology/gene_ontology.obo"
            plugin="GUS::Supported::Plugin::InsertGeneOntology">
      <wgetArgs>--tries=5 --output-document=gene_ontology.obo</wgetArgs>
      <pluginArgs>--oboFile @dataDir@/gene_ontology.obo --extDbRlsName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER%</pluginArgs>
      <description>
         <![CDATA[
   The Gene Ontology (GO) project provides a controlled vocabulary to describe gene and gene product attributes in any organism.
          ]]>
      </description>
  </resource>   

 <resource resource="NRDB" version="2009-02-22"
            plugin="ApiCommonData::Load::Plugin::LoadNothing"
            displayName="GenBank NRDB"
            publicUrl="ftp://ftp.ncbi.nih.gov/blast/db/FASTA/"
            category="Proteome"
            url="ftp://ftp.ncbi.nih.gov/blast/db/FASTA/">
      <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --accept=nr.gz </wgetArgs>
        <unpack>gunzip @dataDir@/nr.gz </unpack>
        <unpack>shortenDefLine --inputFile @dataDir@/nr --outputFile @dataDir@/nrdb-short-defline.fsa --taxonIdMappingFile @dataDir@/../taxonomy/gi_taxid_prot.dmp</unpack>
      <pluginArgs>--dbRefExternalDatabaseSpec "%EXT_DB_NAME%|%EXT_DB_RLS_VER%"</pluginArgs>
      <description>
         <![CDATA[
   The Non-Redundant Database (NRDB) of protein sequences in FASTA format from GenBank.
          ]]>
      </description>
 </resource>
    
    <resource resource="Mged_Ontology_Term_Types" version="1.3"
        plugin="GUS::Supported::Plugin::InsertOntologyTermType"
        displayName="MGED Ontology Term Types"
        category="ignore">
      <manualGet fileOrDir="global/Montology/Mged/%EXT_DB_RLS_VER%/MgedOntologyTermTypes.tab" 
            contact="Trish Whetzel"
            email="whetzel@pcbi.upenn.edu"
            institution="University of Pennsylvania"/>
        <pluginArgs>--inputFile @dataDir@/MgedOntologyTermTypes.tab</pluginArgs>
    </resource>    
    
    
    <resource resource="Mged_Ontology_Relationship_Types" version="1.3"
        plugin="GUS::Supported::Plugin::InsertOntologyRelationshipType"
        displayName="MGED Ontology Relationship Types"
        category="ignore">
      <manualGet fileOrDir="global/Montology/Mged/%EXT_DB_RLS_VER%/MgedOntologyRelationshipTypes.tab" 
            contact="Trish Whetzel"
            email="whetzel@pcbi.upenn.edu"
            institution="University of Pennsylvania"/>
        <pluginArgs>--inputFile @dataDir@/MgedOntologyRelationshipTypes.tab</pluginArgs>
    </resource>    
    
    <resource resource="MGED_Ontology" version="1.3"
        plugin="GUS::Supported::Plugin::InsertOntologyTermsAndRelationships"
        displayName="The MGED Ontology"
        category="Ontology"
        publicUrl="http://mged.sourceforge.net/ontologies/MGEDontology.owl"
        url="http://mged.sourceforge.net/ontologies/MGEDOntology.owl">	
      <wgetArgs>--tries=5 --no-directories --no-host-directories --accept=MGEDOntology.owl </wgetArgs>
      <pluginArgs>--inFile @dataDir@/MGEDOntology.owl --extDbName %EXT_DB_NAME% --extDbVersion %EXT_DB_RLS_VER% --uri 'http://mged.sourceforge.net/ontologies/MGEDontology.php' --parserType MgedRdfRow</pluginArgs>
      <description>
            <![CDATA[Concepts, definitions, terms, and resources for standardized description of a microarray experiment in support of MAGE v.1. The MGED ontology is divided into the MGED Core ontology which is intended to be stable and in synch with MAGE v.1; and the MGED Extended ontology which adds further associations and classes not found in MAGE v.1 ]]>
      </description>		
    </resource>
    
    <resource resource="Mged_Ontology_Entry" version="1.3"
        plugin="GUS::Community::Plugin::LoadOntologyEntryFromMO"
        displayName="MGED Ontology Entry"
        category="ignore">
      <manualGet fileOrDir=global/empty
            contact="Trish Whetzel"
            email="whetzel@pcbi.upenn.edu"
            institution="University of Pennsylvania" />
      <pluginArgs>--externalDatabase %EXT_DB_NAME% --externalDatabaseRls %EXT_DB_RLS_VER%</pluginArgs>
    </resource>  
   
        <resource resource="InterproscanData" version="19.0"
           plugin="ApiCommonData::Load::Plugin::InsertInterproDomainDbs"
           displayName="InterPro Database"
           publicUrl="http://www.ebi.ac.uk/interpro"
           category="Proteome">	
        <manualGet fileOrDir = "global/domain/iprscanData/%EXT_DB_RLS_VER%/"
            contact = "EBI"
            email = "interhelp@ebi.ac.uk"
            institution = "EBI"
        />
        <unpack>fixSuperfamily @dataDir@/iprscan/data/</unpack>
        <unpack>cp @dataDir@/insertInterpro-config.xml @dataDir@/iprscan/data/</unpack>
        <pluginArgs>--inPath @dataDir@/iprscan/data/</pluginArgs>
        <description>
            <![CDATA[
			InterPro family of databases
		]]>
        </description>
        <publication pmid="15608177"/>
    </resource>    


 <resource resource="isolateVocabulary" version="2009-06-14" 
        displayName="load isolate vocabulary" 
        category="ignore" 
        plugin="ApiCommonData::Load::Plugin::LoadNothing" > 
        <manualGet fileOrDir = "global/ontology/isolate/%EXT_DB_RLS_VER%/isolateVocabulary.txt" 
            contact = "Bindu Gajria" 
            email = "bindu@pcbi.upenn.edu" 
            institution = "University of Pennsylvania" />
        <unpack>updateIsolateVocabulary.pl --inFile @dataDir@/isolateVocabulary.txt</unpack>
        <pluginArgs>--dbRefExternalDatabaseSpec "%EXT_DB_NAME%|%EXT_DB_RLS_VER%"</pluginArgs>
    </resource> 



    <resource resource="PDBProteinSequences" version="2009-03-06"
        url="ftp://ftp.wwpdb.org/pub/pdb/derived_data/pdb_seqres.txt.gz"
        displayName="Protein Sequences from PDB"
        organisms="Diverse"
        category="Proteome"
        plugin="GUS::Supported::Plugin::LoadFastaSequences">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --output-document=pdb_seqres.txt.gz</wgetArgs>
        <unpack>gunzip @dataDir@/pdb_seqres.txt.gz</unpack>
        <unpack>filterPdbFile --inputFile @dataDir@/pdb_seqres.txt --outputFile  @dataDir@/pdb.fsa</unpack>
        <pluginArgs>--externalDatabaseName %EXT_DB_NAME% --externalDatabaseVersion %EXT_DB_RLS_VER% --sequenceFile  @dataDir@/pdb.fsa --SOTermName 'polypeptide'  --noSequence --regexSourceId  '>(\w+)\s+mol:protein' --regexDesc 'length:\d+\s+(.+)$' --tableName "DoTS::ExternalAASequence"</pluginArgs>
        <description>
         <![CDATA[
Protein sequences from the Protein Data Bank (PDB) used for mapping Plasmodium protein sequences to crystal structures in PDB.        
          ]]>
        </description>
    </resource>
    
    <resource resource="FetchPDBidx" version="2009-03-06"
        url="ftp://ftp.wwpdb.org/pub/pdb/derived_data/index/source.idx"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::UpdateTaxonFieldFromFile">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=4 --output-document=source.idx</wgetArgs>
        <unpack>processSourceIdxFile --inFile @dataDir@/source.idx --outFile @dataDir@/source.idx.processed</unpack>
        <pluginArgs>--fileName @dataDir@/source.idx.processed --sourceIdRegex  '^(\w+)' --taxonNameRegex '^\w+\s+(.+)' --idSql 'select substr(lower(source_id),0,4),aa_sequence_id from dots.externalaasequence' --extDbRelSpec '%EXT_DB_NAME%|%EXT_DB_RLS_VER%'  --tableName 'DoTS::ExternalAASequence'</pluginArgs>
        <description>
         <![CDATA[
PDB Identifiers       
          ]]>
        </description>
    </resource>


    <resource resource="blatAlignmentQuality" version="2010-02-01"
        category="ignore"
        plugin="GUS::Supported::Plugin::LoadGusXml">
        <manualGet fileOrDir="global/ontology/alignmentQuality/%EXT_DB_RLS_VER%/blatalignmentquality.xml"/>
        <pluginArgs>--filename @dataDir@/blatalignmentquality.xml</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>

 </resourcesPipeline>
