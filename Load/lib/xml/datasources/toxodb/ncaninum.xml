
<resourcesPipeline repository="/files/efr"
        downloadDir="@downloadDir@">

    <cleanups>
 
    </cleanups>

<resource resource="dbEST_NC" version="2009-09-25"
        plugin="GUS::Supported::Plugin::dbEST"
        displayName="dbEST ESTs"
        category="ignore"
        extDbName="dbEST"
        extDbRlsVer="2009-09-25"
        extDbRlsDescrip="ESTs from the mirrored dbEST"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir = "/files/cbil/data/cbil/toxoDb/manualDelivery/dbEST/dummy"
        />
        <unpack>getSubTaxa --ncbiTaxId 29176 --outputFile @downloadDir@/dbEST_NC/taxonIdFile</unpack>
        <unpack>createPropFile --file @pipelineDir@/config/dbestProp --propList "dbestLogin:@dbestLogin@,dbestPswd:@dbestPswd@"</unpack>
        <pluginArgs>--span 500 --taxonFile @downloadDir@/dbEST_NC/taxonIdFile --extDbName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER% --soVer @soVer@ --dbestLoginFile @pipelineDir@/config/dbestProp --dbestConnect "dbi:Oracle:musbld" </pluginArgs>
        <description>
            <![CDATA[
                  ESTs from the mirrored <a href="http://www.ncbi.nlm.nih.gov/dbEST/">dbEST</a> site.
          ]]>
        </description>
    </resource>   

    <resource resource="N.caninum_chromosomes" version="2009-10-06" 
        plugin="GUS::Supported::Plugin::LoadFastaSequences"
        organisms="Neospora caninum"
        displayName="N.caninum chromosomes"
        category="Genome"
        extDbName="Sanger N. caninum chromosomes"
        extDbRlsVer="2009-10-06"
        extDbRlsDescrip="Sanger N. caninum chromosomes|2009-10-06"
        dbCommit="@dbcommit@">
        <manualGet
           fileOrDir="/files/cbil/data/cbil/toxoDb/manualDelivery/Genomes/Neosporacaninum"/>
        <unpack>mkdir @downloadDir@/N.caninum_chromosomes_fixed</unpack>
        <unpack>makeFastaFile --input_dir @downloadDir@/N.caninum_chromosomes/Neosporacaninum --output_fasta @downloadDir@/N.caninum_chromosomes_fixed/Ncaninum.fasta --output_gff @downloadDir@/N.caninum_chromosomes_fixed/Ncaninum.gff</unpack>
        <pluginArgs>--externalDatabaseName %EXT_DB_NAME% --ncbiTaxId 29176 --externalDatabaseVersion %EXT_DB_RLS_VER% --sequenceFile @downloadDir@/N.caninum_chromosomes_fixed/Ncaninum.fasta --SOTermName 'chromosome'  --regexSourceId  '>(\S+)' --tableName "DoTS::ExternalNASequence"</pluginArgs>
        <description>
            <![CDATA[ 
                 Chromosome sequences for <i>N.caninum</i> obtained from the Pathogen Sequencing Unit at the Wellcome Trust Sanger Institute. Please visit <a href="http://www.genedb.org/Homepage/Ncaninum">GeneDB</a> for project details and data release policies.
          ]]>      
        </description>  
    </resource> 

   <resource resource="IEDB_Epitopes" version="2009-06-09"
        publicUrl="http://www.immuneepitope.org"
        displayName="IEDB Epitopes"
        organisms="T. gondii"
        category="Proteome"
        plugin="GUS::Supported::Plugin::LoadFastaSequences"
        extDbName="Links to IEDB epitopes"
        extDbRlsVer="2009-06-09"
        extDbRlsDescrip="Mappings from epitope ids to external websites provided by IEDB."
        dbCommit="@dbcommit@">
        <manualGet fileOrDir="/files/cbil/data/cbil/Common/IEDB/Toxo" 
            contact="IEDB"
            email=""
            institution="IEDB"
        />
        <unpack>mkdir @downloadDir@/IEDB_Epitopes_fixed</unpack>
        <unpack>createEpitopeFilesFromExcel --excelDir @downloadDir@/IEDB_Epitopes/Toxo --outDir @downloadDir@/IEDB_Epitopes_fixed</unpack>
        <pluginArgs>--seqFileDir @downloadDir@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %EXT_DB_NAME% --externalDatabaseVersion %EXT_DB_RLS_VER% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
        <description>
            <![CDATA[
   Epitope data obtained from the Immune Epitope Database and Analysis Resource (IEDB).
          ]]>
        </description>
    </resource>
    

    <resource resource="IEDB_Epitopes_DBxRefs" version="2009-06-09"
        publicUrl="http://www.immuneepitope.org"
        displayName="IEDB Epitopes"
        organisms="T. gondii"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="Links to IEDB epitopes"
        extDbRlsVer="2009-06-09"
        extDbRlsDescrip="Mappings from epitope ids to external websites provided by IEDB."
        dbCommit="@dbcommit@">
        <manualGet fileOrDir="@downloadDir@/IEDB_Epitopes_fixed" 
            contact="IEDB"
            email=""
            institution="IEDB"
        />
        <unpack>createEpitopeDbRefFile --inputDir @downloadDir@/IEDB_Epitopes_DBxRefs/IEDB_Epitopes_fixed --outputFile @downloadDir@/IEDB_Epitopes_DBxRefs/dbRefs.txt</unpack>
        <pluginArgs>--DbRefMappingFile @downloadDir@/IEDB_Epitopes_DBxRefs/dbRefs.txt --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "primary_identifier, remark" --tableName "AASequenceDbRef" --idURL 'http://www.immuneepitope.org/epId/PRIMARY_IDENTIFIER'</pluginArgs>
        <description>

            <![CDATA[
   IEDB epitopes.
          ]]>
        </description>
    </resource>

 <resource resource="updateChromosomeNumberFromMap" version="2009-11-23" 
        displayName="update Chromosome and Chromosome order Number From Mapping file" 
        category="ignore" 
        plugin="ApiCommonData::Load::Plugin::LoadNothing" 
        extDbName="updateChromosomeNumberFromMap"
        extDbRlsVer="2009-11-23"
        extDbRlsDescrip="update Chromosome Number From Mapping file"
        dbCommit="@dbcommit@"> 
        <manualGet fileOrDir = "/files/cbil/data/cbil/toxoDb/manualDelivery/chromosomeNumberMap/neospChrs.txt" 
            contact = "" 
            email = "" 
            institution = "" />

<unpack>updateChromosomeNumberFromMap.pl --map_file @downloadDir@/updateChromosomeNumberFromMap/neospChrs.txt --sequence_table ExternalNaSequence </unpack>

<pluginArgs>--dbRefExternalDatabaseSpec "%EXT_DB_NAME%|%EXT_DB_RLS_VER%"</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource> 

  <resource resource="Neosporacaninum_Gene_Aliases" version="01-27-2010"
        displayName="Neosporacaninum genes with the previous source_ids"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertNaFeatureNaGene"
        dbCommit="@dbcommit@">
         <manualGet fileOrDir = "/files/cbil/data/cbil/toxoDb/manualDelivery/Genomes/Neosporacaninum/new2oldIds_Ncaninum_new.txt"
            contact=""
            email=""
            institution=""
        />

        <pluginArgs>--MappingFile @downloadDir@/Neosporacaninum_Gene_Aliases/new2oldIds_Ncaninum.txt </pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>


    <resource resource="ApiLoc_EupathDB_Dbrefs" version="2010-03-29"
        displayName="ApiLoc and EupathDb links"
        category="ignore"
        organisms="all"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="ApiLoc_EupathDB_Dbrefs"
        extDbRlsVer="2010-03-29"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir = "/files/cbil/data/cbil/plasmoDB/manualDelivery/ApiLoc_dbrefs/2010-03-29/apiLoc_eupathDb_links.tab"
            contact="Stuart Ralph"
            email="saralph@unimelb.edu.au"
            institution="University of Melbourne "
        />
        <pluginArgs>--DbRefMappingFile @downloadDir@/ApiLoc_EupathDB_Dbrefs/apiLoc_eupathDb_links.tab --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "remark" --tableName "DbRefNAFeature"</pluginArgs>
        <description>
            <![CDATA[
           ]]>
        </description>
    </resource>

   <resource resource="Entrez_Gene_dbxref" version="12-01-2009"
        displayName="dbxref from entrez gene ids to eupathdb gene identifiers"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="Links to Entrez Genes"
        extDbRlsVer="12-01-2009"
        extDbRlsDescrip="dbxref from entrez gene ids to eupathdb gene identifiers."
        dbCommit="@dbcommit@">
         <manualGet fileOrDir = "/files/cbil/data/cbil/Common/Entrez_Gene/gene_info_tgondii"
            contact=""
            email=""
            institution=""
        />

        <pluginArgs>--DbRefMappingFile @downloadDir@/Entrez_Gene_dbxref/gene_info_tgondii --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>

       <resource resource="Uniprot_Gene_dbxref" version="11-24-2009"
        displayName="dbxref from Uniprot gene ACs to eupathdb gene identifiers"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="Links to Uniprot Genes"
        extDbRlsVer="11-24-2009"
        extDbRlsDescrip="dbxref from Uniprot gene ACs to eupathdb gene identifiers."
        dbCommit="@dbcommit@">
         <manualGet fileOrDir = "/files/cbil/data/cbil/Common/Uniprot/Uniprot_Gene_tgondii"
            contact=""
            email=""
            institution=""
        />
        <pluginArgs>--DbRefMappingFile @downloadDir@/Uniprot_Gene_dbxref/Uniprot_Gene_tgondii --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>

 <categoryOrder>
   <categoryRef name="Genome"/>
   <categoryRef name="Organellar"/>
   <categoryRef name="Proteome"/>
   <categoryRef name="Transcriptome"/>
   <categoryRef name="Polymorphisms"/>
   <categoryRef name="Alignments"/>
   <categoryRef name="Ontology"/>
 </categoryOrder>
 </resourcesPipeline>
