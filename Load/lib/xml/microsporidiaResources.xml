

<resourcesPipeline repository="/files/efr"
                   downloadDir="@downloadDir@">
    <cleanups>
    </cleanups>

    <resource resource="taxonomy" version="2009-11-05" 
        displayName="NCBI Taxonomy"
        publicUrl="ftp://ftp.ncbi.nih.gov/pub/taxonomy/"
        category="Ontology"
        url="ftp://ftp.ncbi.nih.gov/pub/taxonomy/"
        plugin="GUS::Supported::Plugin::LoadTaxon"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=2 --accept=gi_taxid_prot.dmp.gz,taxdump.tar.gz</wgetArgs>
        <unpack>gunzip @downloadDir@/taxonomy/gi_taxid_prot.dmp.gz</unpack>
        <unpack>gunzip @downloadDir@/taxonomy/taxdump.tar.gz</unpack>
        <unpack>tar -xf @downloadDir@/taxonomy/taxdump.tar -C @downloadDir@/taxonomy/</unpack>
        <unpack>rm -f @downloadDir@/taxonomy/taxdump.tar</unpack>
        <pluginArgs>--names @downloadDir@/taxonomy/names.dmp --nodes @downloadDir@/taxonomy/nodes.dmp --gencode @downloadDir@/taxonomy/gencode.dmp --merged @downloadDir@/taxonomy/merged.dmp --restart @taxonomy.restart@ --verbose @commit@</pluginArgs>
        <description>
            <![CDATA[
    The NCBI Taxonomy database contains the names of all organisms that are represented in the Entrez genetic databases.
          ]]>
        </description>
    </resource>

    <resource resource="SO" version="1.234"
        displayName="Sequence Ontology"
        publicUrl="http://song.sourceforge.net"
        category="Ontology"
        url="http://song.cvs.sourceforge.net/*checkout*/song/ontology/so.obo?revision=1.234"
        plugin="GUS::Supported::Plugin::InsertSequenceOntologyOBO"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --output-document=so.obo</wgetArgs>
        <pluginArgs>--inputFile @downloadDir@/SO/so.obo --soVersion 1.234 --soCvsVersion 1.234</pluginArgs>
        <description>
            <![CDATA[
    The Sequence Ontology Project (SO) is a joint effort by genome annotation centres, including: WormBase, the Berkeley Drosophila Genome Project, FlyBase, the Mouse Genome Informatics group, and the Sanger Institute. They are a part of the Gene Ontology Project  and their aim is to develop an ontology suitable for describing biological sequences.
          ]]>
        </description>
    </resource>
    
    <resource resource="enzymeDB" version="2009_11_03" 
        displayName="Enzyme nomenclature database"
        publicUrl="ftp://us.expasy.org/databases/enzyme/release_with_updates"
        category="Ontology"
        url="ftp://us.expasy.org/databases/enzyme/release_with_updates/"
        plugin="GUS::Community::Plugin::LoadEnzymeDatabase"
        extDbName="enzymeDB"
        extDbRlsVer="2009-11-03"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --accept=enzclass.txt,enzyme.dat</wgetArgs>
        <pluginArgs>--InPath @downloadDir@/enzymeDB/ --enzymeDbName %EXT_DB_NAME% --enzymeDbRlsVer %EXT_DB_RLS_VER% @commit@</pluginArgs>
        <description>
            <![CDATA[
    ENZYME is a repository of information relative to the nomenclature of enzymes. It is primarily based on the recommendations of the Nomenclature Committee of the International Union of Biochemistry and Molecular Biology (IUBMB) and it describes each type of characterized enzyme for which an EC (Enzyme Commission) number has been provided
          ]]>
        </description>
    </resource>
    
    <resource resource="GO_evidence_codes" version="1.20"
        displayName="Gene Ontology evidence codes"        
        publicUrl="http://www.geneontology.org/GO.evidence.shtml"
        category="Ontology"            
        url="http://obo.cvs.sourceforge.net/*checkout*/obo/obo/ontology/evidence_code.obo"
        plugin="ApiCommonData::Load::Plugin::InsertGOEvidenceCodesFromObo"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --output-document=evidence_code.obo</wgetArgs>
        <pluginArgs>--oboFile @downloadDir@/GO_evidence_codes/evidence_code.obo</pluginArgs>
        <description>
            <![CDATA[
   Gene Ontology annotation uses evidence codes to indicate the type of evidence that supports the annotation.
          ]]>
        </description>
    </resource>


    <resource resource="GO" version="1.875"
        displayName="Gene Ontology"
        publicUrl="http://www.geneontology.org"
        category="Ontology"
        url="http://www.geneontology.org/ontology/gene_ontology.obo"
        plugin="GUS::Supported::Plugin::InsertGeneOntology"
        extDbName="Gene Ontology"
        extDbRlsVer="1.875"
        extDbRlsDescrip="The Gene Ontology from Nov. 3, 2009"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --output-document=gene_ontology.obo</wgetArgs>
        <pluginArgs>--oboFile @downloadDir@/GO/gene_ontology.obo --extDbRlsName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER%</pluginArgs>
        <description>
            <![CDATA[
   The Gene Ontology (GO) project provides a controlled vocabulary to describe gene and gene product attributes in any organism.
          ]]>
        </description>
    </resource>
    
    <resource resource="NRDB" version="2009-11-03"
        plugin="ApiCommonData::Load::Plugin::LoadNothing"
        displayName="GenBank NRDB"
        publicUrl="ftp://ftp.ncbi.nih.gov/blast/db/FASTA/"
        category="Proteome"
        url="ftp://ftp.ncbi.nih.gov/blast/db/FASTA/"
        extDbName="NRDB"
        extDbRlsVer="2009-11-03"
        extDbRlsDescrip="The nr file from 2009-11-03"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --accept=nr.gz </wgetArgs>
        <pluginArgs>--dbRefExternalDatabaseSpec "%EXT_DB_NAME%|%EXT_DB_RLS_VER%"</pluginArgs>
        <description>
            <![CDATA[
   The Non-Redundant Database (NRDB) of protein sequences in FASTA format from GenBank.
          ]]>
        </description>
    </resource>



    <resource resource="InterproscanData" version="23.0"
        plugin="ApiCommonData::Load::Plugin::InsertInterproDomainDbs"
        displayName="InterPro Database"
        category="Proteome"
        publicUrl="http://www.ebi.ac.uk/interpro"
        dbCommit="@dbcommit@">	
        <manualGet 
            email="interhelp@ebi.ac.uk"
            fileOrDir="/files/cbil/data/cbil/toxoDb/manualDelivery/iprscan23.0"
            contact="EBI"
            institution="EBI"
        />
        <unpack>fixSuperfamily @downloadDir@/InterproscanData/iprscan23.0/iprscan/data</unpack>
        <unpack>cp @downloadDir@/InterproscanData/iprscan23.0/insertInterpro-config.xml @downloadDir@/InterproscanData/iprscan23.0/iprscan/data/</unpack>
        <pluginArgs>--inPath @downloadDir@/InterproscanData/iprscan23.0/iprscan/data/</pluginArgs>
        <description>
            <![CDATA[
        InterPro is a database of protein families, domains and functional sites in which identifiable features found in known proteins can be applied to unknown protein sequences.
		]]>
        </description>
        <publication pmid="15608177"/>
    </resource>
 
    <resource resource="PDBProteinSequences" version="2009-12-09"
        url="ftp://ftp.wwpdb.org/pub/pdb/derived_data/pdb_seqres.txt.gz"
        displayName="Protein Sequences from PDB"
        organisms="Diverse"
        category="Proteome"
        plugin="GUS::Supported::Plugin::LoadFastaSequences"
        extDbName="PDB protein sequences" 
        extDbRlsVer="2009-12-09"
        extDbRlsDescrip="PDB protein sequences|2009-12-09"
        dbCommit="@dbcommit@">
        <wgetArgs>--tries=5 --mirror --no-parent --no-directories --no-host-directories --cut-dirs=3 --output-document=pdb_seqres.txt.gz</wgetArgs>
        <unpack>gunzip @downloadDir@/PDBProteinSequences/pdb_seqres.txt.gz</unpack>
        <unpack>filterPdbFile --inputFile @downloadDir@/PDBProteinSequences/pdb_seqres.txt --outputFile  @downloadDir@/PDBProteinSequences/pdb.fsa</unpack>
        <pluginArgs>--externalDatabaseName %EXT_DB_NAME% --externalDatabaseVersion %EXT_DB_RLS_VER% --sequenceFile  @downloadDir@/PDBProteinSequences/pdb.fsa --SOTermName 'polypeptide'  --noSequence --regexSourceId  '>(\w+)\s+mol:protein' --regexDesc 'length:\d+\s+(.+)$' --tableName "DoTS::ExternalAASequence"</pluginArgs>
        <description>
         <![CDATA[
Protein sequences from PDB used for mapping protein sequences to crystal structures in PDB.        
          ]]>
        </description>
    </resource>

    <resource resource="dbEST" version="2009-12-07"
        plugin="GUS::Supported::Plugin::dbEST"
        displayName="dbEST ESTs"
        category="Transcriptome"
        extDbName="dbEST"
        extDbRlsVer="2009-12-07"
        extDbRlsDescrip="ESTs from the mirrored dbEST"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir = "/files/cbil/data/cbil/toxoDb/manualDelivery/dbEST/dummy"
        />
        <unpack>getSubTaxa --ncbiTaxId 6033 --outputFile @downloadDir@/dbEST/taxonIdFile</unpack>
        <unpack>createPropFile --file @pipelineDir@/config/dbestProp --propList "dbestLogin:@dbestLogin@,dbestPswd:@dbestPswd@"</unpack>
        <pluginArgs>--span 500 --taxonFile @downloadDir@/dbEST/taxonIdFile --extDbName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER% --soVer @soVer@ --dbestLoginFile @pipelineDir@/config/dbestProp --dbestConnect @dbestConnect@ </pluginArgs>
        <description>
            <![CDATA[
                  ESTs from the mirrored <a href="http://www.ncbi.nlm.nih.gov/dbEST/"TARGET="_blank">dbEST</a> site.
          ]]>
        </description>
    </resource>
     <resource resource="EcuniculiChromosomesAndAnnotations" version="2008-06-19"
        displayName="E. cuniculi chromosomes sequence and annotation"
        organisms="Encephalitozoon cuniculi"
        category="Genome"
        plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
        extDbName="E. cuniculi chromosomes and annotations from Genbank"
        extDbRlsVer="2008-06-19"
        extDbRlsDescrip="E. cuniculi chromosomes and annotations from Genbank|2008-06-19"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir = "/files/cbil/data/cbil/MicrosporidiaDB/manualDelivery/Genomes/Encephalitozoon/genome/Encephalitozoon_cuniculi/genbank/"
            contact = "Vishal Nayak"
            email = "vishalkn@pcbi.upenn.edu"
            institution = "PCBI"
        />

        <pluginArgs>--extDbName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER% --mapFile @gusHome@/lib/xml/isf/MicrosporidiaDB/EcuniculiGenbank2gus.xml --inputFileOrDir @downloadDir@/EcuniculiChromosomesAndAnnotations/genbank --fileFormat genbank --soCvsVersion @soVer@ --defaultOrganism "Encephalitozoon cuniculi GB-M1" --handlerExternalDbs "enzyme:enzymeDB:2009-11-03" --seqSoTerm "chromosome" --bioperlTreeOutput @pipelineDir@/logs/Ecuniculi.bioperl --validationLog @pipelineDir@/logs/Ecuniculi.validation.log</pluginArgs>
        <description>
            <![CDATA[
   Sequence and annotations from BioHealthBase for <i>Encephalitozoon cuniculi GB-M1</i> chromosomes in Genbank (sequence and annotated features) format. 
          ]]>
        </description>
      </resource>


     <resource resource="EintestinalisChromosomesAndAnnotations" version="2009-11-23"
        displayName="E. intestinalis chromosomes sequence and annotation"
        organisms="Encephalitozoon intestinalis"
        category="Genome"
        plugin="GUS::Supported::Plugin::InsertSequenceFeatures"
        extDbName="E. intestinalis chromosomes and annotations from Patrick Keeling"
        extDbRlsVer="2009-11-23"
        extDbRlsDescrip="E. intestinalis chromosomes and annotations from Patrick Keeling|2009-11-23"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir = "/files/cbil/data/cbil/MicrosporidiaDB/manualDelivery/Genomes/E_intestinalis/EMBL/"
            contact = "Vishal Nayak"
            email = "vishalkn@pcbi.upenn.edu"
            institution = "PCBI"
        />

        <pluginArgs>--extDbName %EXT_DB_NAME% --extDbRlsVer %EXT_DB_RLS_VER% --mapFile @gusHome@/lib/xml/isf/MicrosporidiaDB/EintestinalisEmbl2gus.xml --inputFileOrDir @downloadDir@/EintestinalisChromosomesAndAnnotations/EMBL --fileFormat embl --soCvsVersion @soVer@ --defaultOrganism "Encephalitozoon intestinalis" --handlerExternalDbs "enzyme:enzymeDB:2009-11-03" --seqSoTerm "chromosome" --bioperlTreeOutput @pipelineDir@/logs/Eintestinalis.bioperl --validationLog @pipelineDir@/logs/Eintestinalis.validation.log </pluginArgs>
        <description>
            <![CDATA[
   Sequence and annotations from Patrick Keeling(pkeeling@interchange.ubc.ca)at Canadian Institute for Advanced Research, Evolutionary Biology Program, Department of Botany, University of British Columbia for <i>Encephalitozoon intestinalis</i> chromosomes in EMBL (sequence and annotated features) format. 
          ]]>
        </description>
    </resource>
   <resource resource="IEDB_Epitopes" version="2009-12-09"
        publicUrl="http://www.immuneepitope.org"
        displayName="IEDB Epitopes"
        organisms="E. cuniculi"
        category="Proteome"
        plugin="GUS::Supported::Plugin::LoadFastaSequences"
        extDbName="Links to IEDB epitopes"
        extDbRlsVer="2009-12-09"
        extDbRlsDescrip="Mappings from epitope ids to external websites provided by IEDB."
        dbCommit="@dbcommit@">
        <manualGet fileOrDir="/files/cbil/data/cbil/Common/IEDB/Microsporidia" 
            contact="IEDB"
            email=""
            institution="IEDB"
        />
        <unpack>mkdir @downloadDir@/IEDB_Epitopes_fixed</unpack>
        <unpack>createEpitopeFilesFromExcel --excelDir @downloadDir@/IEDB_Epitopes/Microsporidia --outDir @downloadDir@/IEDB_Epitopes_fixed</unpack>
        <pluginArgs>--seqFileDir @downloadDir@/IEDB_Epitopes_fixed/fasta --externalDatabaseName %EXT_DB_NAME% --externalDatabaseVersion %EXT_DB_RLS_VER% --soTermName "protein_binding_site" --regexSourceId ">(\d+)|" --tableName "DoTS::MotifAASequence" --logFrequency 100 --regexNcbiTaxId "\|.*\|(.*)" --regexName "\|(.*)\|.*"</pluginArgs>
        <description>
            <![CDATA[
   Epitope data obtained from the Immune Epitope Database and Analysis Resource (IEDB).
          ]]>
        </description>
    </resource>

   <resource resource="Entrez_Gene_dbxref_microsporidia" version="1-16-2010"
        displayName="dbxref from entrez gene ids to eupathdb gene identifiers"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="Links to Entrez Genes"
        extDbRlsVer="1-16-2010"
        extDbRlsDescrip="dbxref from entrez gene ids to eupathdb gene identifiers."
        dbCommit="@dbcommit@">
         <manualGet fileOrDir = "/files/cbil/data/cbil/Common/Entrez_Gene/gene_info_microsporidia"
            contact=""
            email=""
            institution=""
        />

        <pluginArgs>--DbRefMappingFile @downloadDir@/Entrez_Gene_dbxref_microsporidia/gene_info_microsporidia --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>

   <resource resource="Uniprot_Gene_dbxref_microsporidia" version="1-16-2010"
        displayName="dbxref from Uniprot gene ACs to eupathdb gene identifiers"
        category="ignore"
        plugin="ApiCommonData::Load::Plugin::InsertDBxRefs"
        extDbName="Links to Uniprot Genes"
        extDbRlsVer="1-16-2010"
        extDbRlsDescrip="dbxref from Uniprot gene ACs to eupathdb gene identifiers."
        dbCommit="@dbcommit@">
         <manualGet fileOrDir = "/files/cbil/data/cbil/Common/Uniprot/Uniprot_Gene_microsporidia"
            contact=""
            email=""
            institution=""
        />

        <pluginArgs>--DbRefMappingFile @downloadDir@/Uniprot_Gene_dbxref_microsporidia/Uniprot_Gene_microsporidia --extDbName %EXT_DB_NAME% --extDbReleaseNumber %EXT_DB_RLS_VER% --columnSpec "primary_identifier,secondary_identifier,remark" --tableName "DbRefNAFeature"</pluginArgs>
        <description>
            <![CDATA[
          ]]>
        </description>
    </resource>

    <resource resource="OrthoMCL_Phyletic" version="4.0"
        displayName="OrthoMCL phyletic profiles"
        organisms="E. cuniculi"
        category="Proteome"
        plugin="ApiCommonData::Load::Plugin::InsertPhylogeneticProfile"
        publicUrl="http://orthomcl.cbil.upenn.edu"
        dbCommit="@dbcommit@">
           <manualGet fileOrDir="/files/cbil/data/cbil/apiSiteFiles/downloadSite/OrthoMCL/release-4/groups_OrthoMCL-4.txt"
            email="pinney@pcbi.upenn.edu"
            contact="Deborah Pinney"
            institution="PCBI"
        />
        <pluginArgs>--groupsFile @downloadDir@/OrthoMCL_Phyletic/groups_OrthoMCL-4.txt --taxaToLoad "ecun"</pluginArgs>
        <description>
            <![CDATA[
OrthoMCL data in a phyletic profile format. Contact: Steve Fischer </tt>
          ]]>
        </description>
        <publication pmid="16381887"/>
    </resource>

<resource resource="OrthoMCL" version="4.0"
        displayName="Orthologous groups generated using OrthoMCL"
        organisms="E. cuniculi"
        category="Proteome"
        publicUrl="http://orthomcl.cbil.upenn.edu"
        plugin="ApiCommonData::Load::Plugin::InsertOrthologousGroups"
        dbCommit="@dbcommit@">
        <manualGet fileOrDir="/files/cbil/data/cbil/apiSiteFiles/downloadSite/OrthoMCL/release-4/groups_OrthoMCL-4.txt"
            email="pinney@pcbi.upenn.edu"
            contact="Deborah Pinney"
            institution="PCBI"
        />
        <pluginArgs>--OrthologFile @downloadDir@/OrthoMCL/groups_OrthoMCL-4.txt --AnalysisName 'OrthoMCL-based Orthology Predictions' --AnalysisDescription 'OrthoMCL-based Orthology Predictions'  --taxaToLoad "ecun" --ElementResultTable "DoTS::GeneFeature"</pluginArgs>
        <description>
            <![CDATA[
   OrthoMCL-based orthologous predictions for proteins were generated by Steve Fischer and Deborah Pinney (EuPathDB team) as described in Chen et al. Nucleic Acids Research 2006.
          ]]>
        </description>
        <publication pmid="12952885"/>
</resource>

</resourcesPipeline>
